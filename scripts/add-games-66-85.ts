import { createClient } from '@supabase/supabase-js'
import { config } from 'dotenv'

config({ path: '.env.local' })

const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!
const supabaseKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!

const supabase = createClient(supabaseUrl, supabaseKey)

const games66to85 = [
  {
    id: 'natural-color-palette-066',
    name: '自然调色盘：找找不同的"绿色"',
    age_range: '3-4',
    scene: 'outdoor',
    props: 'household',
    focus: 'cognition',
    core_goal: '锻炼对颜色的精细辨别能力（如深绿、浅绿），以及带着明确目标进行搜索的能力。',
    materials: '无，或一个用于展示的小袋子。',
    steps: [
      '发布任务：对孩子说："我们来玩一个颜色探险的游戏！今天的任务是，找到五种不一样绿色的东西！"',
      '示范寻找：家长先示范，指着草地说："看，这是小草的绿色。"再指着一片深色的树叶说："这片叶子的绿色好像更深一点哦！"',
      '孩子探索：鼓励孩子在周围环境中寻找各种各样的"绿色"，比如浅绿色的嫩芽、深绿色的松树、灰绿色的石头、其他小朋友的绿色衣服等。',
      '收集与比较：每找到一种，都和之前找到的进行比较，讨论它们的不同之处，强化对"同色系不同深浅"的认知。'
    ],
    tips: [
      '提出开放性问题：多问"你觉得这个绿色和那个绿色有什么不一样？""你最喜欢哪一个绿色？为什么？"来激发孩子的思考和语言表达。',
      '任务可变换：今天的任务是找绿色，明天的任务就可以是找"圆形的东西"或者"摸起来粗糙的东西"，保持游戏的新鲜感。',
      '培养审美：这是引导孩子欣赏自然之美的好机会，让他感受到大自然丰富的色彩层次。',
      '安全提示：提醒孩子注意脚下，不要为了寻找目标而跑到危险的地方去。'
    ],
    duration: 15,
    difficulty: 3,
    activity_type: 'active',
    safety_notes: '提醒孩子注意脚下，不要为了寻找目标而跑到危险的地方。',
    extensions: null
  },
  {
    id: 'shadow-mimic-master-067',
    name: '影子模仿大师：我做你学',
    age_range: '3-4',
    scene: 'outdoor',
    props: 'hands',
    focus: 'gross',
    core_goal: '锻炼身体的控制力、模仿的准确性以及创造性地使用身体的能力。',
    materials: '一片有阳光和影子的安全空地。',
    steps: [
      '游戏设定：一个人当"造型师"，另一个人当"影子"。"造型师"负责摆出各种造型，"影子"必须模仿得一模一样。',
      '摆出造型：家长先当"造型师"，摆出一个有趣的、有挑战性的静态造型。比如，单脚站立、双手在头顶交叉、弓步等等。',
      '影子模仿：孩子作为"影子"，需要仔细观察并复制家长的造型。',
      '检查与互换：家长可以走过去"检查"影子模仿得到底像不像，增加互动性。然后交换角色，让孩子当"造型师"，充分发挥他的想象力。'
    ],
    tips: [
      '从静态到动态：熟练后，可以增加难度，从模仿静态造型，升级到模仿一连串的缓慢动态动作，比如打一套"慢动作拳法"。',
      '鼓励创造：当孩子是"造型师"时，鼓励他想出更有趣、更奇怪的姿势，无论他做什么，家长都要努力去模仿。',
      '身体认知：在游戏中，可以自然地提到各个身体部位，比如"看，我的左手举起来了，右手放在膝盖上"，加深身体认知。',
      '安全第一：确保所有模仿的动作都在孩子的能力范围之内，避免因失去平衡而摔倒。'
    ],
    duration: 10,
    difficulty: 3,
    activity_type: 'active',
    safety_notes: '确保所有模仿的动作都在孩子的能力范围之内，避免因失去平衡而摔倒。',
    extensions: null
  },
  {
    id: 'if-i-were-068',
    name: '如果我是……：换位小剧场',
    age_range: '3-4',
    scene: 'outdoor',
    props: 'hands',
    focus: 'social',
    core_goal: '锻炼换位思考和情绪表达的能力，通过角色扮演探索不同的视角和感受。',
    materials: '周围的自然环境。',
    steps: [
      '游戏引入：看到一只蚂蚁时，家长可以蹲下来，对孩子说："我们来玩一个想象游戏。如果你是一只小蚂蚁，你现在会想什么呢？"',
      '换位思考：引导孩子从蚂蚁的视角出发，例如："你是不是觉得我们两个是巨人呀？""你是不是想快点把食物搬回家给你的宝宝吃？"',
      '拓展对象：将想象的对象不断拓展，比如指着一棵大树："如果我是一棵大树，站在这里一百年，我会看到什么？"指着天上的云："如果我是一朵云，我想飘到哪里去？"',
      '表达感受：鼓励孩子说出他想象中那个角色的感受，是开心、是着急、是孤单还是平静。'
    ],
    tips: [
      '没有正确答案：这是一个纯粹的想象力游戏，无论孩子说什么都是对的，关键是激发他跳出自我中心，去思考"别人"的可能性。',
      '培养同理心：这个游戏是培养同理心的绝佳土壤，让他学习去感受和理解他人的处境和情绪。',
      '激发敬畏之心：通过想象自己是自然界的一员，可以帮助孩子建立对生命的尊重和对自然的敬畏。',
      '家长示范：游戏初期，孩子可能不知道怎么回答，家长需要做大量的示范，用生动有趣的语言描绘出不同角色的内心世界。'
    ],
    duration: 10,
    difficulty: 2,
    activity_type: 'quiet',
    safety_notes: null,
    extensions: null
  },
  {
    id: 'memory-shopping-list-069',
    name: '思维购物单：越记越长',
    age_range: '3-4',
    scene: 'waiting',
    props: 'hands',
    focus: 'language',
    core_goal: '锻炼听觉短时记忆、信息编码和提取的能力。',
    materials: '无。',
    steps: [
      '游戏开始：家长说："我们来玩一个记忆游戏。假设我们要去超市，我先说我要买一样东西，然后你重复我的，并加上你想买的东西。"',
      '第一轮：家长说："我去超市，买了一个苹果。"',
      '第二轮：轮到孩子，他需要说："我们去超市，买了一个苹果和一个香蕉。"（"香蕉"是他自己加的）',
      '第三轮：轮到家长，需要说："我们去超市，买了一个苹果、一个香蕉和一瓶牛奶。"',
      '循环往复：看你们能将这个购物清单延续多长。'
    ],
    tips: [
      '从少到多：对于3岁的孩子，能记住3-4样东西就已经非常出色了。不要设置太高的目标，以免产生挫败感。',
      '视觉化辅助：在说出物品时，可以在空气中用手比划出那个物品的形状，帮助孩子进行记忆。',
      '主题限制：可以限制购物的主题，比如"我们去水果店……"或者"我们去玩具店……"，让联想更有方向。',
      '保持趣味：如果记错了或忘记了，就用有趣的方式一笑而过，重点是记忆和复述的过程，而不是结果的准确性。'
    ],
    duration: 8,
    difficulty: 3,
    activity_type: 'quiet',
    safety_notes: null,
    extensions: null
  },
  {
    id: 'tic-tac-toe-070',
    name: '井字棋大战：三连线开战',
    age_range: '3-4',
    scene: 'waiting',
    props: 'paper',
    focus: 'cognition',
    core_goal: '锻炼策略规划、预判和遵守轮流规则的能力。',
    materials: '一张便签纸和一支笔。',
    steps: [
      '画出棋盘：家长在纸上画一个"井"字格。',
      '讲解规则：对孩子说："我们来玩一个下棋游戏。你当O，我当X。我们轮流在格子里画自己的符号，谁先让自己的三个符号连成一条直线（横、竖、斜都可以），谁就赢了。"',
      '开始游戏：孩子先手，选择一个格子画上O。',
      '轮流下棋：家长再画X，然后轮到孩子……直到分出胜负或棋盘被占满。'
    ],
    tips: [
      '明确规则："轮流"是这个游戏的社交核心。一定要强调"现在轮到我了"，"现在轮到你了"，强化规则意识。',
      '思考过程外化：家长在下棋时，可以把自己的思考过程说出来："嗯，如果你在这里画O，你就要赢了，所以我必须在这里画个X把你拦住。" 这是在教孩子如何进行策略思考。',
      '输赢平常心：让孩子明白，下棋有输有赢都是正常的。输了可以有礼貌地祝贺对方，然后说"我们再来一局！"培养良好的竞技精神。',
      '简化版本：如果孩子难以理解，可以先玩"连成两个就赢"的版本。'
    ],
    duration: 10,
    difficulty: 3,
    activity_type: 'quiet',
    safety_notes: null,
    extensions: null
  },
  {
    id: 'pocket-secret-071',
    name: '口袋里的秘密：伸手来猜',
    age_range: '3-4',
    scene: 'waiting',
    props: 'household',
    focus: 'fine',
    core_goal: '锻炼触觉感知和辨别能力（实体感知），以及用语言描述触感的能力。',
    materials: '在自己的口袋里，提前放入几样形状差异明显的小物件，如一把钥匙、一块橡皮、一个瓶盖、一小团棉花。',
    steps: [
      '制造悬念：家长把手伸进口袋，对孩子说："我的口袋里有一个秘密，我不拿出来，你把小手伸进来摸一摸，猜猜它是什么，好吗？"',
      '触觉探索：让孩子将手伸进口袋里（确保口袋里没有危险物品），用手去触摸、感受其中一样物品的形状、材质和温度。',
      '鼓励描述：引导孩子用语言描述他的感受："宝宝摸到的是硬的还是软的呀？是光滑的还是粗糙的？"',
      '竞猜与揭晓：让孩子根据触感猜一个答案，然后将物品拿出来，一起验证。'
    ],
    tips: [
      '选择熟悉的物品：游戏初期，放入的物品最好是孩子日常生活中非常熟悉和常见的，降低竞猜难度。',
      '触觉词汇：这是丰富孩子触觉相关词汇（冷、暖、硬、软、光滑、粗糙、毛茸茸）的绝佳机会。',
      '安全检查：口袋里的物品必须是安全、干净、没有尖锐边角的。',
      '增加难度：熟练后，可以在口袋里同时放两三样东西，指定让他"摸出那把钥匙"，锻炼他在看不见的情况下进行触觉搜索和辨别的能力。'
    ],
    duration: 8,
    difficulty: 2,
    activity_type: 'quiet',
    safety_notes: '口袋里的物品必须是安全、干净、没有尖锐边角的。',
    extensions: null
  },
  {
    id: 'three-happy-things-072',
    name: '今夜三件开心事：带着快乐睡',
    age_range: '3-4',
    scene: 'bedtime',
    props: 'hands',
    focus: 'social',
    core_goal: '锻炼对一天经历的积极性回忆能力，培养感恩和乐观的心态，带着正面情绪入睡。',
    materials: '无。',
    steps: [
      '营造分享氛围：关灯后，家长抱着孩子，轻声说："我们来分享一个睡前小秘密吧。我们每个人都说一件今天发生的、让我们觉得最开心的事。"',
      '家长示范：家长先分享自己的开心事，内容要具体。例如："妈妈今天最开心的事，是下午和你一起堆积木，我们搭的那个城堡真漂亮。"',
      '轮到孩子：鼓励孩子也分享他的开心事。他可能会说"吃了草莓冰淇淋"或者"老师表扬我了"。',
      '积极回应：无论孩子分享什么，家长都要给予积极和肯定的回应："哇，听起来真棒！吃冰淇淋的感觉一定很甜美吧！"',
      '拓展到三件：如果孩子意犹未尽，可以鼓励他说出第二件、第三件开心事。'
    ],
    tips: [
      '重在引导，而非盘问：如果孩子想不起来，家长可以提示他："我们今天下午是不是去公园玩了？有没有发生什么好玩的事呀？"',
      '建立家庭传统：将"睡前分享开心事"作为固定的家庭仪式，有助于增进家庭成员间的情感交流，让孩子在爱和满足中结束一天。',
      '学会倾听：这是教孩子学会倾听和尊重他人分享的时刻。当家长分享时，也需要孩子安静地听。',
      '负面情绪疏导：如果孩子提到不不开心的事，也应接纳并进行简单疏导，告诉他"没关系，明天又是新的一天"，帮助他排解情绪。'
    ],
    duration: 10,
    difficulty: 1,
    activity_type: 'quiet',
    safety_notes: null,
    extensions: null
  },
  {
    id: 'story-magician-073',
    name: '故事魔术师：故事我来改',
    age_range: '3-4',
    scene: 'bedtime',
    props: 'books_pictures',
    focus: 'language',
    core_goal: '锻炼逻辑推理、预测和创造性思维，将孩子从被动听故事变为主动参与故事构建。',
    materials: '一本孩子已经比较熟悉的绘本。',
    steps: [
      '设置悬念：正常阅读绘本，当读到关键情节或转折点时，故意停下来。',
      '提出问题：问孩子："宝宝，你猜猜，接下来会发生什么事呢？"',
      '鼓励预测：给他足够的时间思考和回答。他的答案可能和原著完全不同，这正是想象力的体现。',
      '"如果"游戏：还可以提出"如果"的问题。例如，指着大灰狼说："如果这只大灰狼不喜欢吃小羊，你猜他喜欢吃什么？"',
      '比较与欣赏：听完孩子的"版本"后，再继续阅读原文，和他一起比较两个版本的异同，并对他的创意给予赞赏："哇，你编的这个结局比书里的还有趣呢！"'
    ],
    tips: [
      '选择合适的书：故事情节有一定波折、但结局温馨的绘本最适合玩这个游戏。',
      '保护创造力：永远不要说"不对，书里不是这样的"。应该说"哦？你觉得是这样的吗？真有意思！我们看看书里的作者是怎么想的。"',
      '锻炼推理能力：通过对前文的理解来预测后文，这是逻辑推理能力的萌芽。',
      '加深理解：通过对故事进行"改编"，孩子对原作的理解和记忆会更加深刻。'
    ],
    duration: 15,
    difficulty: 2,
    activity_type: 'quiet',
    safety_notes: null,
    extensions: null
  },
  {
    id: 'quiet-memory-master-074',
    name: '安静的记忆大师：看一眼记住它',
    age_range: '3-4',
    scene: 'bedtime',
    props: 'books_pictures',
    focus: 'cognition',
    core_goal: '在安静状态下，锻炼视觉短时记忆和信息检索能力。',
    materials: '一本画面内容稍丰富的绘本。',
    steps: [
      '观察页面：和孩子一起翻到绘本的某一页，对他说："我们来当记忆大师。我们仔细看这一页30秒，记住上面都有什么东西，然后妈妈会把书合上考考你。"',
      '专注记忆：一起安静地、仔细地观察画面。',
      '合上书本，开始提问：30秒后，合上书。家长问一个简单的问题："宝宝，你还记得刚才那页里，小熊穿的衣服是什么颜色的吗？"',
      '轮流提问：孩子回答后，可以让他也来考考你："妈妈，那你记得那页里有几朵花吗？"'
    ],
    tips: [
      '问题由易到难：从最主要、最中心的物体开始提问，再逐渐问到背景里的次要细节。',
      '鼓励而非考试：营造轻松的游戏氛围。如果孩子记不住，就说"没关系，我们的记忆大师需要休息一下啦"，或者"我们一起打开书再看一眼"，避免给孩子压力。',
      '锻炼观察的策略：可以在观察时，教给孩子一些记忆策略，比如"我们先从左往右看一遍，再从上往下看一遍"。',
      '睡前活动：这个游戏需要高度的专注，但又是完全安静的，非常适合作为消耗脑力、帮助入睡的睡前活动。'
    ],
    duration: 10,
    difficulty: 3,
    activity_type: 'quiet',
    safety_notes: null,
    extensions: null
  },
  {
    id: 'mood-thermometer-075',
    name: '我的心情温度计：今天是什么色',
    age_range: '3-4',
    scene: 'bedtime',
    props: 'hands',
    focus: 'social',
    core_goal: '帮助孩子识别和命名自己的情绪，学习用非暴力的方式表达感受。',
    materials: '无。',
    steps: [
      '引入概念：关灯后，家长轻声说："我们心里住着一个心情温度计，它会告诉我们今天的心情。我们来看看它现在指在哪里？"',
      '家长分享：家长先分享："我今天的心情大部分是开心的绿色，因为……。但下午有一点点着急的黄色，因为……。现在，我要睡觉了，我的心情是平静的蓝色。"',
      '孩子分享：问孩子："宝宝，你今天的心情是什么颜色的？"引导他用颜色或者直接用情绪词来描述。',
      '共情与接纳：无论孩子说出什么情绪，都要完全接纳。如果他说"我今天很生气"，家长应该回应："哦？是吗？能告诉妈妈是为什么事情生气了吗？"而不是说"不许生气"。'
    ],
    tips: [
      '情绪无好坏：向孩子传递一个核心观念：所有的情绪都是正常的，没有好坏之分，关键是如何处理它。',
      '具象化情绪：用"颜色"来代表心情，能帮助孩子更好地理解和表达这些抽象的概念。',
      '建立安全港：让孩子知道，无论他有任何情绪，都可以在父母这里安全地表达出来，而不会被评判。这有助于建立健康的亲子关系。',
      '每日复盘：将此作为睡前仪式，可以帮助孩子梳理一天的经历和感受，带着平静的心情入睡。'
    ],
    duration: 8,
    difficulty: 2,
    activity_type: 'quiet',
    safety_notes: null,
    extensions: null
  },
  {
    id: 'weaving-dreams-076',
    name: '编织美梦：为今晚织一个梦',
    age_range: '3-4',
    scene: 'bedtime',
    props: 'hands',
    focus: 'language',
    core_goal: '通过共同的想象和创造，将孩子的注意力从对黑暗或孤独的恐惧，转移到对梦境的美好期待上。',
    materials: '无。',
    steps: [
      '游戏邀请：家长说："我们来当一次织梦仙女，为我们今晚编织一个独一无二的美梦，好不好？"',
      '设置梦境主题：问孩子："你今晚想梦见什么呢？是想去糖果乐园，还是想变成超人去飞翔？"',
      '添加细节：根据孩子选择的主题，家长和孩子一人一句，为这个梦境添加细节。例如，家长："你的超人披风是什么颜色的呀？"孩子："红色的！"家长："那你飞起来的时候，是先飞过高山，还是先飞过大海呢？"',
      '美好结尾：最后，用一个充满希望和美好的结尾来结束故事："你在梦里玩得好开心，最后，月亮婆婆对你笑着说晚安，你就舒舒服服地睡着啦。"'
    ],
    tips: [
      '孩子主导：梦境的主题和主要情节，一定要以孩子的愿望为主导。',
      '多感官描述：在描述梦境时，多使用听觉、视觉、味觉等多种感官的词汇，让梦境更生动。比如"你闻到棉花糖的香味了吗？"',
      '正向心理暗示：这是一个非常强大的正向心理暗示过程，能有效缓解孩子的入睡焦虑。',
      '避免过度兴奋：故事情节应以温馨、美好、平静为主，避免过于刺激和激烈的情节，以免孩子反而变得兴奋。'
    ],
    duration: 12,
    difficulty: 2,
    activity_type: 'quiet',
    safety_notes: null,
    extensions: null
  },
  {
    id: 'bedtime-yoga-077',
    name: '睡前瑜伽：小动物要睡啦',
    age_range: '3-4',
    scene: 'bedtime',
    props: 'hands',
    focus: 'gross',
    core_goal: '通过模仿舒缓的瑜伽动作，放松身体，平静呼吸，为睡眠做准备。',
    materials: '一张瑜伽垫或柔软的地毯。',
    steps: [
      '环境准备：调暗灯光，播放轻柔的音乐。',
      '模仿动物姿势：家长和孩子一起，模仿一些简单的、以动物命名的瑜伽姿势。比如：',
      '猫式伸展：手脚着地，吸气时抬头塌腰，呼气时低头弓背。',
      '下犬式：手脚着地，将臀部向上顶，身体形成一个倒V形。',
      '蝴蝶式：坐下，双脚脚心相对，双手握住脚，膝盖像蝴蝶翅膀一样上下扇动。',
      '专注呼吸：在做动作时，引导孩子感受自己的呼吸："我们深深地吸一口气，再慢慢地把它吐出来。"',
      '大休息术：最后，让孩子平躺在地上，全身放松，闭上眼睛，安静地躺一两分钟。'
    ],
    tips: [
      '不追求标准：动作不要求标准，重点在于伸展身体和感受平静。',
      '用故事串联：可以将所有动作编成一个"森林里的小动物们准备睡觉了"的故事。',
      '身体与情绪的连接：帮助孩子感受到，当身体放松、呼吸平缓时，心情也会随之变得平静。',
      '高质量的睡前仪式：这是一个能同时让身体和心灵都得到放松的高质量睡前活动。'
    ],
    duration: 15,
    difficulty: 2,
    activity_type: 'quiet',
    safety_notes: '确保地面柔软安全，动作缓慢轻柔。',
    extensions: null
  },
  {
    id: 'emotion-trash-can-078',
    name: '情绪垃圾桶：睡前清一清',
    age_range: '3-4',
    scene: 'bedtime',
    props: 'hands',
    focus: 'social',
    core_goal: '学习用一种具象化的、安全的方式，来处理和释放一天中的负面情绪。',
    materials: '无。',
    steps: [
      '引入概念：对孩子说："我们心里有时候会装一些不开心的事情，就像垃圾一样。睡觉前，我们需要把这些情绪垃圾都倒掉，才能睡个好觉。"',
      '"倒垃圾"：问孩子："你今天有没有什么不开心的事情呀？"引导他说明。每说一件，就让他做一个"把它抓出来，然后用力扔进垃圾桶"的动作。',
      '家长的示范：家长也可以分享自己的"情绪垃圾"，并做出同样的动作。',
      '清空与放松：当所有"垃圾"都倒掉后，一起做一个深呼吸，说："好啦，现在心里干干净净、轻轻松松了，我们可以安心睡觉了。"'
    ],
    tips: [
      '情绪的具象化：将无形的负面情绪，比喻成有形的"垃圾"，能让孩子更容易理解和处理它。',
      '安全的释放："扔掉"这个动作，为负面情绪的释放提供了一个具体的、有仪式感的出口。',
      '接纳所有情绪：这个游戏的前提是，承认并接纳负面情绪的存在是正常的。',
      '心理保健：这是一个非常好的、可以伴随孩子一生的心理保健技巧。'
    ],
    duration: 8,
    difficulty: 2,
    activity_type: 'quiet',
    safety_notes: null,
    extensions: null
  },
  {
    id: 'bedtime-meditation-079',
    name: '睡前冥想故事：跟着呼吸飘',
    age_range: '3-4',
    scene: 'bedtime',
    props: 'hands',
    focus: 'language',
    core_goal: '通过引导性的想象，让孩子将注意力集中在身体感受和呼吸上，达到深度放松。',
    materials: '无。',
    steps: [
      '环境准备：关灯，让孩子以最舒服的姿势躺好。',
      '引导想象：家长用非常缓慢、轻柔的语调，开始讲述一个引导性的故事。例如："现在，想象你是一片轻轻的羽毛，飘浮在空中……一阵温暖的风吹来，把你轻轻地向上托起……"',
      '关注呼吸：将呼吸融入故事："你每一次深深地吸气，就飞得更高一点……每一次慢慢地呼气，就感觉更放松一点……"',
      '身体放松：引导他感受身体的放松："你的小脚丫放松了，你的小腿也放松了……你感觉自己轻飘飘的，非常舒服……"'
    ],
    tips: [
      '语调是关键：家长的声音必须是单调、平稳、催眠般的。',
      '使用正面意象：故事的意象必须是安全、温暖、美好的（如云朵、羽毛、小船）。',
      '非强制性：整个过程是引导而非命令，使用"想象一下"、"感受一下"等词语。',
      '深度放松技巧：这是儿童版的冥想和正念练习，对缓解焦虑、改善睡眠质量非常有帮助。'
    ],
    duration: 10,
    difficulty: 2,
    activity_type: 'quiet',
    safety_notes: null,
    extensions: null
  },
  {
    id: 'daily-review-080',
    name: '一日复盘：从早到晚说一说',
    age_range: '3-4',
    scene: 'bedtime',
    props: 'hands',
    focus: 'language',
    core_goal: '锻炼对一天活动的概括和总结能力，提升记忆的整理和语言的组织能力。',
    materials: '无。',
    steps: [
      '引入话题：关灯后，问孩子："我们来想想，今天从早上起床到现在，都发生了哪些好玩的事情呀？"',
      '家长示范：家长先说："我记得，我们早上吃完饭，去了公园玩滑滑梯。"',
      '引导回忆：问孩子："玩完滑滑梯，我们又做了什么呢？"（比如：去超市买了酸奶）',
      '鼓励概括：引导孩子用自己的语言，将一天中印象最深的一两件事串联起来讲一讲。'
    ],
    tips: [
      '时间顺序：可以用"早上"、"中午"、"下午"、"晚上"这些词，帮助孩子建立初步的时间顺序概念。',
      '抓住闪光点：重点是回忆和复述那些开心的、有成就感的"闪光时刻"。',
      '锻炼长时记忆：这个游戏是对长时记忆信息提取的有效训练。',
      '增进理解：家长可以通过这个游戏，了解孩子在一天中，到底对哪些事情最在意。'
    ],
    duration: 10,
    difficulty: 2,
    activity_type: 'quiet',
    safety_notes: null,
    extensions: null
  }
]

async function addGames66to85() {
  try {
    console.log('开始添加游戏66-85...')

    const { data: existingGames, error: checkError } = await supabase
      .from('games')
      .select('id, name')

    if (checkError) {
      console.error('检查现有游戏时出错:', checkError)
      return
    }

    const existingGameIds = new Set(existingGames?.map(game => game.id) || [])
    const existingGameNames = new Set(existingGames?.map(game => game.name) || [])

    const newGames = games66to85.filter(game => {
      const isDuplicateId = existingGameIds.has(game.id)
      const isDuplicateName = existingGameNames.has(game.name)
      
      if (isDuplicateId || isDuplicateName) {
        console.log(`跳过重复游戏: ${game.name}`)
        return false
      }
      return true
    })

    console.log(`准备添加 ${newGames.length} 个新游戏`)

    if (newGames.length === 0) {
      console.log('没有新游戏需要添加')
      return
    }

    const { data, error } = await supabase
      .from('games')
      .insert(newGames)
      .select('id, name')

    if (error) {
      console.error('批量插入游戏时出错:', error)
      return
    }

    console.log(`✅ 成功添加 ${data.length} 个游戏！`)
    console.log('新添加的游戏:')
    data.forEach((game, index) => {
      console.log(`${index + 1}. ${game.name}`)
    })

  } catch (error) {
    console.error('脚本执行出错：', error)
  }
}

if (require.main === module) {
  addGames66to85()
    .then(() => {
      console.log('游戏66-85添加完成')
      process.exit(0)
    })
    .catch((error) => {
      console.error('脚本执行失败：', error)
      process.exit(1)
    })
}