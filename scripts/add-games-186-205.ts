import { createClient } from '@supabase/supabase-js'
import { config } from 'dotenv'

config({ path: '.env.local' })

const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!
const supabaseKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!

const supabase = createClient(supabaseUrl, supabaseKey)

const games186to205 = [
  {
    id: 'little-foot-car-186',
    name: '小脚开车：草地小司机出发！（公园小跑道）',
    age_range: '2-2.5',
    scene: 'outdoor',
    props: 'household',
    focus: 'gross',
    core_goal: '锻炼双腿交替蹬地的协调能力和下肢力量。',
    materials: '一辆儿童平衡车或扭扭车。',
    steps: [
      '熟悉车辆：先让孩子坐在车上，用手扶着车把，双脚着地感受车辆的稳定性。',
      '示范蹬地：家长示范如何用双脚交替向后蹬地，让车子前进。',
      '孩子尝试：鼓励孩子自己尝试。初期他可能是用双脚同时向前"走路"的方式让车前进。',
      '设定目的地：在不远处设定一个目的地（比如一棵树），鼓励他"开车"过去。'
    ],
    tips: [
      '安全装备：佩戴好头盔和护具。',
      '场地选择：选择平坦、开阔、没有车辆的硬化路面。',
      '发展平衡感：平衡车对锻炼孩子的平衡感和身体协调性非常有益。',
      '鼓励探索：让孩子自由探索，他会自己摸索出最高效的前进方式。'
    ],
    duration: 20,
    difficulty: 2,
    activity_type: 'active',
    safety_notes: '佩戴好头盔和护具。选择平坦、开阔、没有车辆的硬化路面。',
    extensions: null
  },
  {
    id: 'voice-change-187',
    name: '声音变变变：猜猜我是谁（等候小剧场）',
    age_range: '2-2.5',
    scene: 'waiting',
    props: 'hands',
    focus: 'language',
    core_goal: '通过声音变化进行角色扮演，锻炼听觉分辨能力。',
    materials: '无。',
    steps: [
      '游戏开始：家长用手捂住嘴巴，改变自己的声音，然后说一句话，比如用很粗的声音说："你好呀！"',
      '孩子竞猜：问孩子："你猜猜，刚才说话的是爸爸（大灰狼）还是妈妈？"',
      '变换声音：家长可以用各种不同的声音说话，比如很高很细的声音（小老鼠）、很慢很慢的声音（老爷爷）。',
      '角色互换：鼓励孩子也来改变自己的声音，你来猜。'
    ],
    tips: [
      '听觉专注力：孩子需要非常专注地去听声音的细微变化。',
      '激发想象：将不同的声音和不同的角色联系起来，能激发孩子的想象力。',
      '趣味性：声音的改变本身就充满了趣味性，能有效吸引孩子的注意力。',
      '随时可玩：这是一个不需要任何道具，随时可以开始的口袋游戏。'
    ],
    duration: 10,
    difficulty: 1,
    activity_type: 'quiet',
    safety_notes: null,
    extensions: null
  },
  {
    id: 'doll-bedtime-188',
    name: '娃娃要睡啦：温柔晚安仪式（枕边安抚站）',
    age_range: '2-2.5',
    scene: 'bedtime',
    props: 'household',
    focus: 'social',
    core_goal: '通过照顾娃娃入睡，将睡前仪式应用到角色扮演中，缓解自己的入睡焦虑。',
    materials: '一个娃娃或毛绒玩具，一块小毛巾当"被子"。',
    steps: [
      '情景导入：对孩子说："宝宝你看，娃娃也困了，它想睡觉了，我们一起来哄它睡觉吧。"',
      '执行仪式：引导孩子对他自己的睡前仪式，应用在娃娃身上。比如，先帮娃娃"脱掉"外衣。',
      '盖被子：让孩子帮娃娃盖好"被子"。',
      '说晚安：鼓励孩子轻轻地拍拍娃娃，并对它说"晚安"。'
    ],
    tips: [
      '角色投射：在哄娃娃睡觉的过程中，孩子其实是在演练和接纳自己也需要睡觉这件事。',
      '移情作用：这是一个非常有效的移情技巧，能将孩子对"睡觉"的抗拒，转化为一种照顾和关爱的行为。',
      '巩固睡前仪式：通过给娃娃执行一遍睡前仪式，也再次巩固了他自己的良好睡眠习惯。',
      '培养责任感：照顾娃娃能培养孩子的责任感和爱心。'
    ],
    duration: 15,
    difficulty: 1,
    activity_type: 'quiet',
    safety_notes: null,
    extensions: null
  },
  {
    id: 'clothespin-fun-189',
    name: '夹子晒晒乐：小手当家（家务练功坊）',
    age_range: '2.5-3',
    scene: 'home',
    props: 'household',
    focus: 'fine',
    core_goal: '锻炼手指捏开夹子的力量和精确夹取的协调能力。',
    materials: '一些弹力较松的晾衣夹，一根绳子（拉在两把椅子之间），一些小毛巾或纸片当"衣服"。',
    steps: [
      '任务说明：对孩子说："我们刚洗完衣服，现在要来把它们晾起来。"',
      '示范操作：家长演示如何用拇指和食指捏开夹子，然后准确地将"衣服"和绳子一起夹住。',
      '孩子尝试：让孩子自己尝试。捏开夹子需要相当大的指尖力量。',
      '收衣服：晾好后，再让他练习将夹子一个个取下来。'
    ],
    tips: [
      '选择合适的夹子：夹子的弹力一定要小，否则孩子会因为捏不开而感到沮丧。',
      '锻炼前三指力量：这个游戏对锻炼拇指、食指、中指的力量和协调性非常有益，是重要的写字前准备。',
      '生活即游戏：将晾衣服这个家务活，变成孩子可以参与的有趣游戏。',
      '手眼协调：孩子需要将衣服、绳子和夹子三者精确地对应在一起。'
    ],
    duration: 15,
    difficulty: 2,
    activity_type: 'quiet',
    safety_notes: '选择弹力较松的夹子，避免夹伤手指。',
    extensions: null
  },
  {
    id: 'detective-clues-190',
    name: '小侦探出动：找找地面小线索（公园探案局）',
    age_range: '2.5-3',
    scene: 'outdoor',
    props: 'hands',
    focus: 'cognition',
    core_goal: '学习观察和辨认地面上的各种痕迹，并进行简单的推理。',
    materials: '一片有多种痕迹的地面，如公园的小路。',
    steps: [
      '发现线索：家长指着地上的一串脚印，对孩子说："小侦探快看，这里有线索！你猜，刚才是不是有人从这里走过去了？"',
      '寻找更多线索：引导孩子在地面上寻找更多有趣的痕迹，比如自行车留下的车辙印、小狗留下的梅花脚印、落叶被扫过后留下的条纹。',
      '推理与讨论：每发现一种痕迹，都和孩子一起讨论"这是什么留下的？""它要去哪里？"',
      '自己创造线索：可以在湿润的土地上，用玩具车压出车辙，或者用树枝画画，自己创造新的"线索"。'
    ],
    tips: [
      '培养观察力：引导孩子从"看路"到"观察路面"，培养对细节的关注。',
      '逻辑推理启蒙："看到脚印，推断有人走过"是最初级的逻辑推理。',
      '激发好奇心：让孩子对周围环境中隐藏的"故事"产生浓厚的兴趣。',
      '安全提示：提醒孩子在观察地面时，也要注意前方的路况。'
    ],
    duration: 20,
    difficulty: 2,
    activity_type: 'active',
    safety_notes: '提醒孩子在观察地面时，也要注意前方的路况。',
    extensions: null
  },
  {
    id: 'body-parts-quick-191',
    name: '身体部位点点名：快手快眼挑战（随时随地）',
    age_range: '2.5-3',
    scene: 'home',
    props: 'hands',
    focus: 'language',
    core_goal: '巩固对身体部位的认知，并锻炼听觉指令的快速反应能力。',
    materials: '无。',
    steps: [
      '游戏开始：家长说："我们来玩一个点点名的游戏，我说到哪个部位，你就要用手快速地指出来哦！"',
      '发出指令：家长开始快速地说出身体部位的名称："鼻子！"、"耳朵！"、"膝盖！"、"肚脐！"',
      '孩子反应：孩子需要根据指令，快速、准确地指出对应的身体部位。',
      '增加难度：可以逐渐加快语速，或者加入一些不常见的部位，比如"手肘"、"脚踝"。'
    ],
    tips: [
      '反应速度训练：游戏的乐趣在于"快"，能很好地锻炼孩子的听觉信息处理速度。',
      '身体地图：通过这个游戏，能帮助孩子在大脑中建立一幅清晰的"身体地图"。',
      '故意说错：家长可以一边说"鼻子"，一边指着自己的耳朵，看孩子是会跟着你的错误动作，还是会遵循正确的语言指令。',
      '随时可玩：这是在任何碎片化时间里，都能进行的有趣互动。'
    ],
    duration: 8,
    difficulty: 2,
    activity_type: 'quiet',
    safety_notes: null,
    extensions: null
  },
  {
    id: 'hedgehog-roll-192',
    name: '小刺猬卷卷卷：变身小球滚一滚（客厅软垫区）',
    age_range: '2.5-3',
    scene: 'home',
    props: 'hands',
    focus: 'gross',
    core_goal: '锻炼身体的柔韧性和蜷缩、滚动的协调能力。',
    materials: '一张柔软的地毯或床。',
    steps: [
      '角色扮演：对孩子说："我们来当一只遇到危险的小刺猬，需要把身体卷起来保护自己。"',
      '示范动作：家长先示范，坐在地上，然后慢慢躺下，将双腿弯曲，用双手抱住膝盖，尽量让身体蜷缩成一个球形。',
      '孩子模仿：鼓励孩子也做出同样的动作。',
      '滚动游戏：在蜷缩成球后，可以尝试轻轻地向左或向右滚动身体。'
    ],
    tips: [
      '身体柔韧性：这个动作能很好地伸展背部和颈部的肌肉。',
      '核心力量：保持蜷缩的姿势需要核心腹部肌肉的参与。',
      '安全场地：确保地面柔软，周围没有障碍物。',
      '增加想象：可以加入情节，比如家长扮演"大灰狼"走过来，孩子就要立刻变成"小刺猬球"。'
    ],
    duration: 10,
    difficulty: 2,
    activity_type: 'active',
    safety_notes: '确保地面柔软，周围没有障碍物。',
    extensions: null
  },
  {
    id: 'sorry-no-problem-193',
    name: '对不起&没关系：友好修复小剧场（玩具城）',
    age_range: '2.5-3',
    scene: 'home',
    props: 'household',
    focus: 'social',
    core_goal: '在情景剧中学习如何道歉和如何原谅，理解社交修复的基本方式。',
    materials: '两个可以扮演角色的玩具，比如一个"小猪"和一个"小狗"。',
    steps: [
      '制造"冲突"：家长操控两个玩具，让"小猪"在走路时不小心撞倒了"小狗"正在搭的积木。',
      '演绎情绪：家长用不同的语气演绎两个角色的情绪。小狗："呜呜，我的房子倒了，我好伤心。"小猪："啊，我不是故意的。"',
      '引入解决方案：家长引导孩子："宝宝，你觉得小猪现在应该怎么做，小狗才不会那么伤心呢？"引导孩子说出"说对不起"。',
      '情景剧结局：家长让小猪对小狗说"对不起"，然后再引导孩子思考小狗应该怎么回应（"没关系"），最后两个好朋友一起把积木重新搭好。'
    ],
    tips: [
      '安全的情景模拟：在游戏中预演冲突和解决方案，比在真实的激烈冲突中去教育孩子要有效得多。',
      '关注行为，而非指责：重点在于"撞倒积木"这个行为带来的后果，以及如何弥补，而不是指责"小猪是个坏孩子"。',
      '拓展情景：可以模拟各种常见的社交冲突，比如"抢玩具"、"不小心弄坏别人的东西"等。',
      '共情理解：帮助孩子理解，当自己犯错时，一句真诚的"对不起"能让对方感觉好很多；当别人道歉时，一句大度的"没关系"能让友谊继续。'
    ],
    duration: 12,
    difficulty: 2,
    activity_type: 'quiet',
    safety_notes: null,
    extensions: null
  },
  {
    id: 'find-friends-matching-194',
    name: '找朋友配对：谁跟谁是一家（分类小站）',
    age_range: '2.5-3',
    scene: 'home',
    props: 'books_pictures',
    focus: 'cognition',
    core_goal: '根据物品的"类别"进行归类，发展抽象思维。',
    materials: '一些图片卡片，包含不同类别，如动物、水果、交通工具。',
    steps: [
      '建立"家"：先拿出"小狗"、"苹果"、"汽车"三张卡片，分开放好，作为三个类别的"家"。',
      '开始分类：家长拿起一张新的卡片，比如"小猫"，问孩子："你看，小猫应该和谁是好朋友呀？它应该去哪个家？"引导他将小猫和"小狗"放在一起（动物之家）。',
      '孩子操作：将剩下的卡片（如香蕉、轮船）交给孩子，让他自己进行归类。',
      '命名类别：每完成一个类别的归类，都和孩子一起说出这个类别的名字："对啦，小狗和小猫都是"动物"。"'
    ],
    tips: [
      '从两种类别开始：初期只进行两种类别的区分，比如动物和水果。',
      '特征要明显：选择的物品要具有该类别非常典型的特征。',
      '抽象思维的发展：理解"苹果和香蕉虽然长得不一样，但它们都是水果"这个概念，是孩子抽象思维能力发展的重要一步。',
      '生活应用：在逛超市时，可以和孩子讨论"你看，这里都是卖蔬菜的，那边都是卖面包的。"'
    ],
    duration: 15,
    difficulty: 2,
    activity_type: 'quiet',
    safety_notes: null,
    extensions: null
  },
  {
    id: 'little-firefighter-195',
    name: '小小消防员：浴室灭火队（亲水练习场）',
    age_range: '2.5-3',
    scene: 'home',
    props: 'household',
    focus: 'fine',
    core_goal: '锻炼手部的挤压能力和瞄准能力。',
    materials: '一个可以喷水的玩具水枪或一个用完的、洗干净的喷雾瓶。',
    steps: [
      '场地准备：在浴缸里或淋浴间进行。可以在墙上贴几个海洋球或泡沫玩具作为"火焰"。',
      '任务说明：对孩子说："哎呀，墙上着火啦！你是勇敢的消防员，快用你的水枪把火灭掉！"',
      '示范操作：家长演示如何用手指按压扳机，将水喷射出去。',
      '孩子"灭火"：让孩子自己尝试，对准"火焰"进行喷射。'
    ],
    tips: [
      '锻炼手部力量：反复按压扳机，能很好地锻炼孩子手指和手掌的肌肉力量。',
      '手眼协调：孩子需要用眼睛瞄准目标，并指挥手进行操作。',
      '因果关系：让他理解"按下去"和"水喷出来"之间的因果联系。',
      '安全提示：提醒孩子水枪不能对着人喷射。'
    ],
    duration: 15,
    difficulty: 2,
    activity_type: 'active',
    safety_notes: '提醒孩子水枪不能对着人喷射。',
    extensions: null
  },
  {
    id: 'straw-blow-painting-196',
    name: '吸管吹画：风之线条工作室（小画室）',
    age_range: '3-4',
    scene: 'home',
    props: 'paper',
    focus: 'fine',
    core_goal: '学习有方向、有控制地吹气，进行随机的艺术创作。',
    materials: '一张白纸，一根吸管，一些用少量水稀释过的、较稀的颜料。',
    steps: [
      '滴上颜料：家长先用勺子或滴管，在白纸上滴一小滩颜料。',
      '示范吹画：家长拿起吸管，对准颜料的边缘，用力吹气，让颜料向四面八方散开，形成漂亮的放射状线条。',
      '孩子创作：让孩子自己尝试，他可以从不同角度去吹，观察颜料的不同走向。',
      '混合颜色：可以在第一滩颜料旁边滴上第二种颜色的颜料，然后将它们吹到一起，观察颜色的混合。'
    ],
    tips: [
      '锻炼口腔肌肉：需要相当大的肺活量和集中的气流才能吹动颜料。',
      '不可预测的美：吹出的图案是随机的、不可复制的，能给孩子带来很大的惊喜。',
      '科学与艺术：游戏包含了"气流"的物理原理和色彩混合的美学。',
      '安全提示：提醒孩子吸管只能用来吹，不能吸。颜料需选择安全无毒的。'
    ],
    duration: 20,
    difficulty: 3,
    activity_type: 'quiet',
    safety_notes: '提醒孩子吸管只能用来吹，不能吸。颜料需选择安全无毒的。',
    extensions: null
  },
  {
    id: 'slope-race-197',
    name: '谁跑得快？斜坡小实验（家中科学角）',
    age_range: '2.5-3',
    scene: 'home',
    props: 'household',
    focus: 'cognition',
    core_goal: '通过简单的实验，观察不同物体的运动方式和速度，建立初步的物理直觉。',
    materials: '一个斜坡（用画板或厚书搭成），几样不同的小玩具（如：一个小球、一辆小汽车、一个方形积木）。',
    steps: [
      '提出问题：将所有玩具放在斜坡顶端，问孩子："我们来猜一猜，如果我同时松手，谁会第一个跑到终点？"',
      '收集猜想：听听孩子的想法，他可能会选择他最喜欢的那个玩具。',
      '开始比赛：家长说："比赛开始！"然后同时释放所有玩具。',
      '观察与讨论：和孩子一起观察比赛结果，并讨论为什么球和汽车会滚得很快，而积木基本不动。'
    ],
    tips: [
      '科学思维启蒙："提出假设 -> 进行实验 -> 观察结果 -> 得出结论"是完整的科学探究过程。',
      '培养观察力：引导孩子仔细观察物体滚动的姿态。',
      '激发好奇心："为什么会这样？"这个问题比答案本身更重要。',
      '反复实验：可以换用不同的物品，反复进行实验，巩固认知。'
    ],
    duration: 15,
    difficulty: 2,
    activity_type: 'quiet',
    safety_notes: null,
    extensions: null
  },
  {
    id: 'little-conductor-198',
    name: '小小指挥家：声音大声小声快又慢（客厅乐团）',
    age_range: '2.5-3',
    scene: 'home',
    props: 'hands',
    focus: 'language',
    core_goal: '学习使用表示声音强弱和快慢的词汇，并通过肢体语言进行表达。',
    materials: '一段熟悉的儿歌或音乐。',
    steps: [
      '角色扮演：对孩子说："我们来当乐队指挥家，这首歌由我们来指挥！"',
      '指挥"大声"和"小声"：播放音乐，当家长把双臂张得很开时，就和孩子一起大声唱；当家长把两根手指凑得很近时，就一起用蚊子般的声音哼唱。',
      '指挥"快"和"慢"：当家长的手臂快速挥舞时，就快速地唱；当手臂像打太极一样缓慢移动时，就用慢动作唱。',
      '孩子当指挥：把"指挥棒"交给孩子，让他来指挥，家长和音乐需要完全听从他的指挥。'
    ],
    tips: [
      '将抽象概念具象化：用夸张的肢体语言，将"强/弱"、"快/慢"这些抽象的音乐概念变得直观可见。',
      '锻炼听觉和身体的配合：需要根据听到的音乐，做出相应的指挥动作。',
      '体验控制感：当孩子是"指挥家"时，他能体验到掌控全局的乐趣，极大地激发表现欲。',
      '音乐素养启蒙：这是对音乐力度和速度变化最有趣的早期启蒙。'
    ],
    duration: 12,
    difficulty: 2,
    activity_type: 'active',
    safety_notes: null,
    extensions: null
  },
  {
    id: 'body-traffic-light-199',
    name: '身体红绿灯：分部位行动令（操场反应区）',
    age_range: '3-4',
    scene: 'home',
    props: 'hands',
    focus: 'gross',
    core_goal: '在快速反应中，学习控制身体的不同部位。',
    materials: '无。',
    steps: [
      '讲解规则："我们来玩一个升级版的红绿灯游戏。我喊"手-绿灯"，你的手就可以动；我喊"脚-红灯"，你的脚就要立刻停住不能动。"',
      '开始游戏：家长开始发号施令："脚-绿灯！"（大家开始踏步）；"手-绿灯！"（大家开始挥手）。',
      '执行"红灯"：家长突然喊："脚-红灯！"这时，所有人的脚都必须立刻静止，但手仍然可以动。',
      '变换指令：不断地、快速地变换指令，比如"全身-绿灯"、"嘴巴-红灯"、"屁股-绿灯"等。'
    ],
    tips: [
      '锻炼大脑的执行功能：这个游戏要求大脑同时处理多个信息，并对身体的不同部位发出不同的指令（运动或抑制），是极好的大脑执行功能训练。',
      '高度专注：孩子必须时刻注意听指令，才能做出正确的反应。',
      '增加趣味性：指令可以非常有趣，比如"舌头-绿灯"、"眉毛-红灯"。',
      '观察身体分离能力：观察孩子是否能做到"脚动、手不动"这种身体部位的分离控制。'
    ],
    duration: 15,
    difficulty: 3,
    activity_type: 'active',
    safety_notes: null,
    extensions: null
  },
  {
    id: 'story-doctor-200',
    name: '故事医生：给情节看病（沙发阅读角）',
    age_range: '3-4',
    scene: 'home',
    props: 'hands',
    focus: 'language',
    core_goal: '锻炼对故事逻辑连贯性的判断力，并学习用恰当的词汇进行修正。',
    materials: '无。',
    steps: [
      '讲一个"生病"的故事：家长开始讲一个孩子熟悉的故事，但在其中故意加入一个完全不合逻辑、不相关的句子。例如："小红帽走在森林里，突然，天上飞过一架大飞机，然后她又遇到了大灰狼。"',
      '等待"诊断"：讲完后，问孩子："宝宝，你觉得我刚才讲的故事，有没有哪里生病了？有一句话好像是乱入的。"',
      '找出"病句"：引导孩子找出"天上飞过一架大飞机"这句话和故事的上下文没有关系。',
      '"治好"故事：和孩子一起把"病句"拿掉，把故事重新讲一遍。'
    ],
    tips: [
      '培养逻辑敏感度：锻炼孩子对信息之间逻辑关联性的敏感度。',
      '批判性思维：鼓励孩子去质疑和判断听到的信息是否合理。',
      '选择熟悉故事：必须是孩子非常熟悉的故事，他才能判断出哪些情节是"外来"的。',
      '幽默感：故意加入的"病句"可以非常无厘头，比如"灰姑娘的南瓜车，是草莓味的"，增加游戏的趣味性。'
    ],
    duration: 12,
    difficulty: 2,
    activity_type: 'quiet',
    safety_notes: null,
    extensions: null
  },
  {
    id: 'problem-solving-board-201',
    name: '解决问题董事会：小脑袋想办法（餐桌圆桌会）',
    age_range: '3-4',
    scene: 'home',
    props: 'hands',
    focus: 'social',
    core_goal: '学习用头脑风暴的方式，思考解决社交冲突的多种可能性。',
    materials: '无。',
    steps: [
      '提出一个"议题"：家长提出一个常见的社交难题。例如："议题一：如果你和好朋友都想玩同一个玩具，应该怎么办？"',
      '头脑风暴：鼓励孩子想出所有可能的解决办法，无论好坏。比如："我去抢过来"、"我跟他换"、"我们轮流玩"、"我们一起玩"、"我玩别的"。',
      '不作评判：家长负责记录下孩子想出的所有办法，期间不做任何评判。',
      '讨论与评估：等孩子想不出更多办法后，再和他一起逐一讨论每个办法可能带来的后果，并找出"最佳方案"。例如：""抢过来"可能会让朋友伤心，以后不跟你玩了。"轮流玩"听起来是个好办法，这样大家都能玩到。"'
    ],
    tips: [
      '发散思维：重点是先想出"数量"，再讨论"质量"，保护孩子的发散性思维。',
      '培养解决问题的能力：教给孩子一个思考框架：面对问题 -> 想出多种方案 -> 评估方案后果 -> 做出最佳选择。',
      '非指导性：家长扮演的是主持人和记录员，而不是给出答案的老师。',
      '真实应用：当现实中真的发生类似冲突时，可以和孩子一起回顾当时"董事会"的结论。'
    ],
    duration: 20,
    difficulty: 3,
    activity_type: 'quiet',
    safety_notes: null,
    extensions: null
  },
  {
    id: 'shape-sudoku-202',
    name: '图形小数独：两色填填乐（格子实验室）',
    age_range: '3-4',
    scene: 'home',
    props: 'paper',
    focus: 'cognition',
    core_goal: '锻炼在行列中进行逻辑排除和推理的能力，是数独思维的启蒙。',
    materials: '在纸上画一个四宫格（2x2），准备两种不同颜色或形状的贴纸或磁力片（比如2个红色圆形，2个蓝色圆形）。',
    steps: [
      '讲解规则：对孩子说："我们要玩一个填格子的游戏，规则是：每一行（横着看）和每一列（竖着看），都不能有重复的颜色。"',
      '摆放初始棋子：家长先在四宫格的对角线位置，分别放上一个红色和一个蓝色贴纸。',
      '引导推理：指着一个空格子，问孩子："你觉得这里应该放什么颜色呢？如果放红色，那这一行就有两个红色了，可不可以呢？"引导他得出"不可以"的结论。',
      '完成谜题：最终引导孩子将剩下的一个红色和一个蓝色贴纸，分别放在正确的空格子里。'
    ],
    tips: [
      '从四宫格开始：四宫格（2x2）是最简单的入门级数独，只需用到两种元素。',
      '具象化操作：一定要用可移动的贴纸或磁力片，而不是直接画上去，方便孩子试错和修改。',
      '将思考过程说出来：家长需要把"因为这一行已经有红色的了，所以这里不能放红色，只能放蓝色"这样的推理过程，用语言清晰地表达出来。',
      '难度提升：熟练后，可以挑战九宫格（3x3）和三种元素的图形数独。'
    ],
    duration: 15,
    difficulty: 3,
    activity_type: 'quiet',
    safety_notes: null,
    extensions: null
  },
  {
    id: 'paper-weaving-203',
    name: '纸条编织机：一上一下织小毯（小手工坊）',
    age_range: '3-4',
    scene: 'home',
    props: 'paper',
    focus: 'fine',
    core_goal: '学习"一上一下"的穿梭动作，锻炼手眼协调和对规律的理解。',
    materials: '一张硬卡纸，在上面平行地剪开几道口子（不要剪断）；几根长长的彩色纸条。',
    steps: [
      '准备"织布机"：将剪好的卡纸作为"织布机"。',
      '示范编织：家长拿起一根纸条，演示如何"从第一个口子上面过去，从第二个口子下面穿过来，再从第三个口子上面过去……"，进行一上一下的编织。',
      '孩子尝试：让孩子用另一根颜色的纸条，紧挨着第一根，进行同样的编织。',
      '欣赏作品：编织完成后，一个漂亮的、有格子图案的"桌布"就出现了。'
    ],
    tips: [
      '规律的理解："一上一下"是一种非常基础和重要的规律，这个游戏能让孩子直观地理解它。',
      '空间操作：孩子需要判断"上面"和"下面"，并指挥手做出精确的穿梭动作。',
      '耐心和专注：编织是一个需要耐心和专注的精细活动。',
      '艺术创作：最终的作品本身就是一件美丽的艺术品，可以贴在墙上展示。'
    ],
    duration: 25,
    difficulty: 3,
    activity_type: 'quiet',
    safety_notes: '使用剪刀时需家长协助，确保安全。',
    extensions: null
  },
  {
    id: 'story-sequence-204',
    name: '故事排序官：图片排排队（故事工作台）',
    age_range: '3-4',
    scene: 'home',
    props: 'books_pictures',
    focus: 'cognition',
    core_goal: '理解多步事件的逻辑先后顺序，并据此进行排序和讲述。',
    materials: '一套3-4张的儿童故事序列图卡（或自己打印制作）。',
    steps: [
      '打乱卡片：将一套故事卡片（例如：1.男孩在和面；2.把面团放进烤箱；3.烤出香喷喷的面包）的顺序打乱，放在孩子面前。',
      '任务说明：对孩子说："这几张图片在讲一个烤面包的故事，但是它们的顺序乱了，我们帮它排好队吧。"',
      '引导思考：问孩子："你觉得第一件发生的事情应该是什么？"引导他找出"和面"是第一步。',
      '排序并讲述：和孩子一起将卡片按正确的逻辑顺序排好，然后鼓励他看着排好的卡片，把这个故事完整地讲述一遍。'
    ],
    tips: [
      '逻辑链条：重点在于帮助孩子理解事件之间的因果和时间逻辑链条。',
      '语言组织能力：根据图片，将一个故事有条理、有顺序地讲述出来，是对语言组织能力的极好锻炼。',
      '自制卡片：可以用手机拍下孩子自己做某件事的连续照片（如搭积木、画画），然后让他给自己排序，会更有代入感。',
      '生活应用：帮助孩子养成做事情前，先在脑子里想好"第一步、第二步、第三步"的习惯。'
    ],
    duration: 15,
    difficulty: 2,
    activity_type: 'quiet',
    safety_notes: null,
    extensions: null
  },
  {
    id: 'trust-falling-205',
    name: '信任倒倒倒：我来接住你（草地抱抱区）',
    age_range: '3-4',
    scene: 'outdoor',
    props: 'hands',
    focus: 'social',
    core_goal: '建立和巩固亲子间的信任关系，体验依赖和被支持的感觉。',
    materials: '一片柔软、安全的地面。',
    steps: [
      '讲解与示范：家长先背对孩子站好，对他说："我等一下会直直地向后倒下去，你要在后面稳稳地接住我哦！"然后家长轻轻地向后倒，让孩子把你"接住"。',
      '建立信心：换孩子背对你站着，你蹲在他身后，让他也尝试向后倒，你用双手稳稳地接住他的肩膀。',
      '逐渐增加信任：刚开始，孩子可能只敢倒一点点。每一次你都稳稳地接住他，他就会越来越信任你，敢于倒得更彻底。',
      '表达感受：游戏结束后，可以讨论一下："你闭着眼睛向后倒的时候，心里是什么感觉？""被稳稳接住的时候，又是什么感觉？"'
    ],
    tips: [
      '安全第一：家长必须100%专注，确保能稳稳接住孩子。地面必须是柔软的，如地毯或草地。',
      '身体的信任：这是一个非语言的、纯粹通过身体来感受和建立信任的游戏。',
      '循序渐进：从很小的后仰幅度开始，绝不强迫孩子做他感到害怕的尝试。',
      '情感链接：这个游戏能带来非常强烈的身体和情感链接，对建立安全的依恋关系非常有益。'
    ],
    duration: 15,
    difficulty: 3,
    activity_type: 'active',
    safety_notes: '家长必须100%专注，确保能稳稳接住孩子。地面必须是柔软的，如地毯或草地。',
    extensions: null
  }
]

async function addGames186to205() {
  try {
    console.log('开始添加游戏186-205...')

    const { data: existingGames, error: checkError } = await supabase
      .from('games')
      .select('id, name')

    if (checkError) {
      console.error('检查现有游戏时出错:', checkError)
      return
    }

    const existingGameIds = new Set(existingGames?.map(game => game.id) || [])
    const existingGameNames = new Set(existingGames?.map(game => game.name) || [])

    const newGames = games186to205.filter(game => {
      const isDuplicateId = existingGameIds.has(game.id)
      const isDuplicateName = existingGameNames.has(game.name)
      
      if (isDuplicateId || isDuplicateName) {
        console.log(`跳过重复游戏: ${game.name}`)
        return false
      }
      return true
    })

    console.log(`准备添加 ${newGames.length} 个新游戏`)

    if (newGames.length === 0) {
      console.log('没有新游戏需要添加')
      return
    }

    const { data, error } = await supabase
      .from('games')
      .insert(newGames)
      .select('id, name')

    if (error) {
      console.error('批量插入游戏时出错:', error)
      return
    }

    console.log(`✅ 成功添加 ${data.length} 个游戏！`)
    console.log('新添加的游戏:')
    data.forEach((game, index) => {
      console.log(`${index + 1}. ${game.name}`)
    })

  } catch (error) {
    console.error('脚本执行出错：', error)
  }
}

if (require.main === module) {
  addGames186to205()
    .then(() => {
      console.log('游戏186-205添加完成')
      process.exit(0)
    })
    .catch((error) => {
      console.error('脚本执行失败：', error)
      process.exit(1)
    })
}