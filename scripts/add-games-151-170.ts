import { createClient } from '@supabase/supabase-js'
import { config } from 'dotenv'

config({ path: '.env.local' })

const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!
const supabaseKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!

const supabase = createClient(supabaseUrl, supabaseKey)

const games151to170 = [
  {
    id: 'little-detective-151',
    name: '小手侦探：摸摸看大巡游',
    age_range: '2-2.5',
    scene: 'home',
    props: 'household',
    focus: 'cognition',
    core_goal: '通过触觉感知物体的不同材质，并学习描述触感的词汇。',
    materials: '无，利用周围环境即可。',
    steps: [
      '触觉探索：家长引导孩子去触摸周围不同材质的物品。',
      '语言描述：每触摸一样，家长都用简单的词汇描述其触感。例如，触摸毛衣时说："这是"软软的"。"触摸桌面时说："这是"硬硬的"、"滑滑的"。"触摸墙壁时说："这是"凉凉的"。"',
      '孩子感受：鼓励孩子也用自己的小手去感受，并尝试模仿这些描述词。',
      '寻找游戏：家长可以发出指令："宝宝，我们去找一个"软软的"东西摸一摸好不好？"'
    ],
    tips: [
      '丰富感官词汇：重点帮助孩子学习"软/硬"、"冷/热"、"光滑/粗糙"等成对的触感词汇。',
      '安全第一：确保孩子触摸的物品都是安全、干净的，没有尖锐棱角。',
      '多感官结合：将触觉和视觉、听觉（物品名称）结合起来，能加深孩子的理解和记忆。',
      '建立认知：这是孩子通过身体感知来认识世界的重要方式。'
    ],
    duration: 10,
    difficulty: 1,
    activity_type: 'quiet',
    safety_notes: '确保孩子触摸的物品都是安全、干净的，没有尖锐棱角。',
    extensions: null
  },
  {
    id: 'little-tail-152',
    name: '小尾巴出发：跟着我走',
    age_range: '2-2.5',
    scene: 'home',
    props: 'hands',
    focus: 'social',
    core_goal: '锻炼模仿能力，并通过追随游戏巩固亲子依恋关系。',
    materials: '一片安全的活动空间。',
    steps: [
      '游戏邀请：家长对孩子说："来，当我的小尾巴，我做什么，你就做什么！"',
      '简单动作：家长开始做一些简单的、大幅度的动作，比如向前走、向后退、挥挥手、拍拍屁股。',
      '孩子模仿：孩子跟在家长身后，模仿家长的动作。',
      '角色互换：换孩子在前面走，家长当"跟屁虫"，模仿孩子的每一个动作。'
    ],
    tips: [
      '动作要慢：家长的动作一定要慢，给孩子足够的反应和模仿时间。',
      '建立安全感：孩子追随家长的过程，是对亲子依恋关系的强化，让他感觉到"跟着你就是安全的"。',
      '享受乐趣：当家长模仿孩子那些童稚、可爱的动作时，能带来很多欢笑。',
      '观察与模仿：这是孩子学习新技能最主要的方式之一，模仿能力强的孩子通常学习能力也更强。'
    ],
    duration: 10,
    difficulty: 1,
    activity_type: 'active',
    safety_notes: '确保活动空间安全，无障碍物。',
    extensions: null
  },
  {
    id: 'wind-talking-153',
    name: '风娃娃在说话（公园听风站）',
    age_range: '2-2.5',
    scene: 'outdoor',
    props: 'hands',
    focus: 'cognition',
    core_goal: '感受和辨别不同强度的风，并将听觉感受与身体感觉联系起来。',
    materials: '一个有风的日子。',
    steps: [
      '感受微风：找一个稍微背风的地方，当一阵微风吹过时，家长说："宝宝听，这是小风在走路，轻轻的，"呼——"。"同时用手轻轻抚摸孩子的脸颊。',
      '感受大风：走到一个迎风口，当风变大时，家长张开双臂，用夸张的语气说："哇！大风跑过来了，"呼——呼——"！"',
      '观察风的杰作：引导孩子观察风吹过时，树叶、小草、旗帜的变化。',
      '制造风：家长可以用嘴巴对着孩子的手吹气，模仿"小风"和"大风"，让他感受不同。'
    ],
    tips: [
      '安全提示：风太大或天气太冷时不宜玩此游戏。',
      '感官链接：这是一个将听觉（风声）、触觉（风吹在脸上）和视觉（树叶摇动）完美结合的感官游戏。',
      '科学启蒙：让孩子直观地感受到"风"这种看不见但能被感觉到的自然力量。',
      '语言描述：用"轻柔的"、"大大的"等词汇来描述风，丰富孩子的形容词库。'
    ],
    duration: 15,
    difficulty: 2,
    activity_type: 'active',
    safety_notes: '风太大或天气太冷时不宜玩此游戏。',
    extensions: null
  },
  {
    id: 'paper-tearing-156',
    name: '纸面条小力士：撕呀撕（厨房工作台）',
    age_range: '2.5-3',
    scene: 'home',
    props: 'paper',
    focus: 'fine',
    core_goal: '锻炼双手协调，以及沿直线撕纸的控制能力。',
    materials: '几张稍有硬度的彩色卡纸。',
    steps: [
      '示范撕纸：家长先将卡纸对折，压出清晰的折痕，然后沿着折痕，用双手配合，缓慢地将纸撕成两半。',
      '任务说明：对孩子说："我们来当大力士，把这些彩色的"布"撕成长长的面条吧！"',
      '孩子尝试：给孩子一张已经有折痕的纸，让他自己尝试沿着线撕。',
      '创作与应用：将撕下来的长纸条，可以用来当"面条"玩过家家，或者用胶水贴在另一张纸上，创作一幅"栅栏"画。'
    ],
    tips: [
      '先折后撕：对于初学者，"先折出折痕"是能成功沿直线撕开的关键。',
      '双手协作：孩子需要学习一手固定纸张，另一只手向下发力，并且两只手要同步移动。',
      '听觉刺激：撕纸时发出的"嘶啦"声，对孩子来说是很有趣的听觉刺激。',
      '安全宣泄："撕"这个动作，也是孩子表达和宣泄内在情绪的一种安全方式。'
    ],
    duration: 10,
    difficulty: 2,
    activity_type: 'quiet',
    safety_notes: null,
    extensions: null
  },
  {
    id: 'explorer-crossing-157',
    name: '小探险家跨小河（客厅/公园）',
    age_range: '2.5-3',
    scene: 'home',
    props: 'household',
    focus: 'gross',
    core_goal: '锻炼抬腿跨越障碍物的能力和身体的平衡感。',
    materials: '两条平行的绳子，或者用胶带在地板上贴出两条线，中间的区域就是"小河"。',
    steps: [
      '游戏设定：指着"小河"，对孩子说："前面有一条小河，我们是勇敢的探险家，要从上面跨过去，不能掉进水里哦！"',
      '示范动作：家长大步地、清晰地从"河"的一边跨到另一边。',
      '孩子尝试：鼓励孩子也尝试。初期可以牵着他的手，给他安全感。',
      '调整难度：根据孩子的能力，可以把"河"变宽一点或变窄一点。'
    ],
    tips: [
      '锻炼身体规划：孩子需要目测"河"的宽度，然后判断自己需要抬多高的腿、迈多大的步子才能成功。',
      '发展平衡感：单腿支撑、另一腿抬起跨越的瞬间，对身体的平衡能力是很好的锻炼。',
      '安全提示：确保地面防滑，周围没有障碍物。',
      '增加想象：可以在"河"里放几张蓝色的纸当作河水，增加游戏的想象空间。'
    ],
    duration: 10,
    difficulty: 2,
    activity_type: 'active',
    safety_notes: '确保地面防滑，周围没有障碍物。',
    extensions: null
  },
  {
    id: 'find-other-half-158',
    name: '找找另一半：拼拼配对（等候小站）',
    age_range: '2.5-3',
    scene: 'waiting',
    props: 'books_pictures',
    focus: 'cognition',
    core_goal: '理解"整体"与"部分"的关系，发展图形匹配和空间想象能力。',
    materials: '几张被从中间剪开的图片卡片（例如，一个苹果被剪成两半，一辆小汽车被剪成两半）。',
    steps: [
      '展示一半：家长先拿出其中一半卡片（比如左半边的苹果），问孩子："你看，这是一个苹果，但它只有一半了，它的另一半去哪里了呢？"',
      '提供选项：将另外几张"另一半"的卡片（如右半边的苹果、右半边的汽车）展示给孩子。',
      '孩子匹配：让孩子在选项中，找出能和"左半边苹果"拼成一个完整苹果的那一半。',
      '完成拼图：当孩子找到后，和他一起将两半拼在一起，并庆祝："对啦！我们找到了另一半，现在它是一个完整的苹果了！"'
    ],
    tips: [
      '选择简单的图形：初期的卡片，图形应该是对称的、特征明显的。',
      '裁剪方式：最初可以用直线竖着剪开，熟练后再尝试用曲线或横着剪开。',
      '锻炼空间想象：孩子需要在脑海中，将一半的图形进行"翻转"和"匹配"，这是空间想象能力的萌芽。',
      '自制卡片：用孩子自己的照片来制作这个游戏，他会更有兴趣。'
    ],
    duration: 8,
    difficulty: 2,
    activity_type: 'quiet',
    safety_notes: null,
    extensions: null
  },
  {
    id: 'food-reporter-159',
    name: '美食小记者：今天吃了啥（睡前回顾台）',
    age_range: '2.5-3',
    scene: 'bedtime',
    props: 'hands',
    focus: 'language',
    core_goal: '锻炼对近期事件的记忆和简单的语言复述能力。',
    materials: '无。',
    steps: [
      '引入话题：睡前，家长问孩子："我们来当美食家，回忆一下，我们今天都吃了哪些好吃的东西呀？"',
      '家长示范：家长先说："我记得，我们早上喝了牛奶，吃了鸡蛋。"',
      '引导回忆：问孩子："那中午呢？中午我们吃了什么？"（提示：米饭、青菜）',
      '鼓励描述：鼓励孩子用简单的词语说出他吃过的东西，并可以加上他的感受，比如"草莓，甜的"。'
    ],
    tips: [
      '锻炼短时记忆：这是对一天内发生的具体事件的记忆提取练习。',
      '丰富词汇：在回忆时，可以引入更多描述食物的词汇，如"脆脆的饼干"、"热乎乎的汤"。',
      '建立时间感：通过"早上"、"中午"、"晚上"的划分，帮助孩子建立初步的时间顺序感。',
      '愉快的复盘：回忆一天中的美食，能让孩子带着满足和愉快的心情入睡。'
    ],
    duration: 8,
    difficulty: 1,
    activity_type: 'quiet',
    safety_notes: null,
    extensions: null
  },
  {
    id: 'shape-stamps-160',
    name: '形状小印章工坊（客厅画室）',
    age_range: '2.5-3',
    scene: 'home',
    props: 'paper',
    focus: 'cognition',
    core_goal: '识别基本形状，并通过动手操作加深对形状特征的理解。',
    materials: '几个不同形状的积木（圆形、方形、三角形），儿童安全印泥（或水彩颜料和盘子），一张大白纸。',
    steps: [
      '准备"印章"：将积木块和蘸好颜料的盘子放在孩子面前。',
      '示范印章：家长拿起一个方形积木，在颜料上蘸一下，然后用力按在白纸上，拿起来后说："看，我们盖了一个方方的印章！"',
      '孩子操作：鼓励孩子选择一个他喜欢的形状积木，自己进行"盖章"。',
      '命名与创作：每盖出一个形状，都和他一起说出这个形状的名字。鼓励他用不同的形状组合成一幅画，比如用一个方形和一个三角形组成"小房子"。'
    ],
    tips: [
      '选择合适的积木：积木需要有一面是平整的，方便抓握和按压。',
      '颜色与形状：可以用不同的颜色来盖不同的形状，加深记忆。',
      '力度感知：孩子需要学习用多大的力气按压，才能盖出清晰完整的图案。',
      '清理环节：游戏结束后，和孩子一起清洗"印章"和调色盘，培养整洁的习惯。'
    ],
    duration: 15,
    difficulty: 2,
    activity_type: 'quiet',
    safety_notes: '确保颜料安全无毒。',
    extensions: null
  },
  {
    id: 'you-me-relay-161',
    name: '你我接力：轮到谁的球？（随处可玩）',
    age_range: '2.5-3',
    scene: 'home',
    props: 'household',
    focus: 'social',
    core_goal: '帮助孩子清晰地分辨和使用人称代词"我"和"你"，建立自我和他人的边界感。',
    materials: '一个球或任何可以传递的物品。',
    steps: [
      '游戏开始：家长拿着球，指着自己说："这是"我"的球。"',
      '传递物品：然后将球递给孩子，说："现在，这是"你"的球了。"',
      '鼓励使用代词：问孩子："这是谁的球呀？"引导他说出"是"我"的球"。',
      '来回传递：反复进行传递和提问，让孩子在物权的转换中，熟练使用"我"和"你"。'
    ],
    tips: [
      '明确指代：在说"我"的时候，一定要指着自己；在说"你"的时候，一定要指着孩子。',
      '引入"他"：如果有第三个家庭成员或玩具在场，可以把球递过去，并引入"他"的概念。',
      '日常对话中强化：在日常对话中有意识地、清晰地使用这些人称代词，比如"我正在吃饭，你呢？"',
      '自我意识的萌芽：清晰分辨"你我他"，是孩子自我意识发展的重要里程碑。'
    ],
    duration: 10,
    difficulty: 2,
    activity_type: 'quiet',
    safety_notes: null,
    extensions: null
  },
  {
    id: 'little-foot-kick-162',
    name: '小脚踢大龙（草地追球场）',
    age_range: '2.5-3',
    scene: 'outdoor',
    props: 'household',
    focus: 'gross',
    core_goal: '锻炼用脚踢球的动作协调性，以及追逐移动物体的能力。',
    materials: '一个大而轻的皮球（"大龙"）。',
    steps: [
      '游戏设定：家长把球放在地上，说："这是一条淘气的"大龙"，我们用脚把它赶回家吧！"',
      '示范踢球：家长先轻轻地用脚内侧踢球，让球向前滚动。',
      '孩子尝试：让孩子也来尝试踢球。他可能会用脚尖、脚跟，或者只是用脚去碰，都没关系。',
      '你来我往：和孩子面对面站着，互相踢球，像踢足球一样。'
    ],
    tips: [
      '选择合适的球：球要大、轻、软，这样孩子容易踢到，也比较安全。',
      '分解动作：踢球需要单脚站立的平衡能力，如果孩子掌握不好，可以先让他扶着墙练习。',
      '不强调精准：游戏的重点是让腿部动起来，感受踢球的乐趣，而不是要踢得多准。',
      '全身运动：踢球需要跑动、平衡、眼脚协调，是一项非常好的全身性运动。'
    ],
    duration: 15,
    difficulty: 2,
    activity_type: 'active',
    safety_notes: '确保活动区域安全，无障碍物。',
    extensions: null
  },
  {
    id: 'little-ball-handler-163',
    name: '小小传球手（室内/院子训练场）',
    age_range: '2.5-3',
    scene: 'home',
    props: 'household',
    focus: 'gross',
    core_goal: '锻炼手眼协调，学习用双手接住和抛出球。',
    materials: '一个轻便的、大小适中的皮球或软球。',
    steps: [
      '准备姿势：家长和孩子面对面站立，相隔一小段距离。',
      '下手抛球：家长先用双手，从下往上，轻轻地将球抛向孩子的胸口位置。',
      '孩子接球：鼓励孩子伸出双手，像"捧"一样去接住球。',
      '抛球回来：引导孩子也用同样的方式，将球抛回给家长。'
    ],
    tips: [
      '抛物线要高：向上抛出一条较高的抛物线，能让球下落的速度变慢，给孩子更多的反应时间。',
      '接球技巧：可以教孩子接球时，双手要像一个"碗"，眼睛要一直盯着球。',
      '距离控制：根据孩子的成功率，随时调整两人之间的距离。',
      '全身协调：接抛球需要眼睛、手臂、身体和腿部的整体协调配合。'
    ],
    duration: 12,
    difficulty: 2,
    activity_type: 'active',
    safety_notes: '确保活动区域安全。',
    extensions: null
  },
  {
    id: 'little-prophet-164',
    name: '小小预言家：如果…会怎样？（生活场景馆）',
    age_range: '2.5-3',
    scene: 'home',
    props: 'hands',
    focus: 'language',
    core_goal: '理解简单的、日常的因果关系，并用语言进行初步的预测。',
    materials: '无，利用日常生活情景。',
    steps: [
      '提出假设：家长根据当前情景，提出一个简单的假设性问题。例如，在吃饭前问："如果我们不洗手就吃饭，会怎么样呀？"',
      '引导预测：引导孩子说出可能的后果："肚子里会长虫子，会肚子疼。"',
      '变换情景：不断变换情景和问题，比如出门前："如果外面下雨了，我们不打伞，会怎么样？"（会被淋湿）；睡觉前："如果我们晚上不睡觉，一直玩，明天会怎么样？"（会很困，没有精神）。',
      '验证结果：在安全的前提下，有些"后果"可以被真实地体验，比如"不穿外套出门会感觉冷"。'
    ],
    tips: [
      '基于生活经验：所有的问题都必须是孩子能够理解和体验过的日常情景。',
      '锻炼逻辑思维：这是对"原因"和"结果"这一基本逻辑链条的反复训练。',
      '培养预见性：帮助孩子在行动前，能对可能产生的后果有一个初步的预判。',
      '建立规则意识：很多生活规则（如饭前洗手）背后的原因，可以通过这个游戏让孩子更好地理解和接受。'
    ],
    duration: 10,
    difficulty: 2,
    activity_type: 'quiet',
    safety_notes: null,
    extensions: null
  },
  {
    id: 'little-worker-165',
    name: '小工人拧螺丝（家中小工坊）',
    age_range: '2.5-3',
    scene: 'home',
    props: 'household',
    focus: 'fine',
    core_goal: '锻炼手腕的旋转、对准和用力等复合精细动作。',
    materials: '儿童玩具螺丝和螺母（通常尺寸较大、塑料材质）。',
    steps: [
      '任务说明：对孩子说："我们来当小工人，把这个螺丝拧到螺母里面去吧。"',
      '示范操作：家长演示如何一手固定螺母，另一手捏住螺丝，对准后，顺时针旋转，将螺丝拧进去。',
      '孩子尝试：让孩子自己尝试。他需要理解"旋转"才能前进这个概念。',
      '反向操作：教他如何逆时针旋转，将螺丝再拧出来。'
    ],
    tips: [
      '选择合适的玩具：玩具的尺寸要大，螺纹要清晰，方便孩子操作。',
      '高度手眼协调：这个动作需要两只手高度协调，并且需要眼睛、手腕、手指的紧密配合。',
      '培养耐心：对准螺纹并成功拧进去，需要多次尝试，能很好地培养孩子的耐心和抗挫折能力。',
      '解决问题的能力：孩子需要自己摸索旋转的方向和角度，这是一个解决物理问题的过程。'
    ],
    duration: 12,
    difficulty: 3,
    activity_type: 'quiet',
    safety_notes: '确保玩具螺丝尺寸适中，无误食风险。',
    extensions: null
  },
  {
    id: 'droplet-artist-166',
    name: '滴滴小画家：滴管画（托盘小画室）',
    age_range: '3-4',
    scene: 'home',
    props: 'paper',
    focus: 'fine',
    core_goal: '学习精确控制滴管释放液体的量和位置，进行艺术创作。',
    materials: '几张厨房用纸或宣纸，一个儿童滴管，几个小碗装着不同颜色的、用水稀释过的安全颜料。',
    steps: [
      '准备画板：将厨房用纸铺在托盘上。',
      '吸取颜料：让孩子用滴管从碗里吸取一种颜色的颜料。',
      '开始"滴画"：引导孩子将滴管对准纸巾，然后轻轻地、一滴一滴地将颜料滴在纸上。',
      '观察与创作：和孩子一起观察颜料在纸巾上瞬间晕染开的美妙效果，并鼓励他用不同颜色的"水滴"创作出一幅抽象画。'
    ],
    tips: [
      '科学与艺术的结合：这个游戏既包含了"毛细现象"的科学原理，又是充满美感的艺术创作。',
      '力度控制：孩子需要学习非常精确地控制捏动胶头的力度，才能做到"一滴一滴"地释放，而不是一股水流。',
      '颜色混合：可以引导孩子将不同颜色的水滴滴在一起，观察它们混合后产生的新颜色。',
      '专注与平静：滴画的过程需要非常专注和平静，对培养孩子的耐心很有帮助。'
    ],
    duration: 20,
    difficulty: 3,
    activity_type: 'quiet',
    safety_notes: '确保颜料安全无毒，全程监护。',
    extensions: null
  },
  {
    id: 'shoe-ruler-167',
    name: '鞋子当尺：量一量（家里测量局）',
    age_range: '3-4',
    scene: 'home',
    props: 'household',
    focus: 'cognition',
    core_goal: '理解"测量"的初步概念，学习使用非标准单位进行测量。',
    materials: '一个测量工具（比如孩子的一只鞋子、一块积木、一本书），以及各种被测量的对象（桌子、床、地毯）。',
    steps: [
      '引入"单位"：家长拿起孩子的鞋子，说："我们今天用你的鞋子来当一把尺子，量量看我们的桌子有多长。"',
      '示范测量：家长将鞋子放在桌子的一端，然后在鞋子的另一端做个记号，再把鞋子接续着记号放下去，如此重复，并大声计数："一、二、三……哦，桌子有八只鞋子那么长！"',
      '孩子测量：让孩子用同样的方法，去测量其他物品的长度。',
      '讨论与比较：可以用不同的"尺子"（如积木）去测量同一个物体，然后和孩子讨论："为什么用鞋子量是8，用积木量就是15呢？"'
    ],
    tips: [
      '非标准测量的意义：在学习使用标准单位（厘米、米）之前，体验用非标准单位测量，能帮助孩子更好地理解"测量"的本质，即"一个单位的重复累加"。',
      '数学启蒙：这是对"单位"、"长度"、"计数"等核心数学概念的综合应用。',
      '培养估算能力：在测量前，可以先让孩子猜一猜："你觉得床有几本书那么长？"',
      '严谨性：教会孩子在测量时，要首尾相接，不能有空隙，也不能重叠，培养科学的严谨性。'
    ],
    duration: 15,
    difficulty: 3,
    activity_type: 'quiet',
    safety_notes: null,
    extensions: null
  },
  {
    id: 'trust-adventure-168',
    name: '信任牵手大冒险（家/户外）',
    age_range: '3-4',
    scene: 'home',
    props: 'hands',
    focus: 'social',
    core_goal: '学习担当"引导者"和"被引导者"的角色，体验信任与责任。',
    materials: '一条蒙眼布。',
    steps: [
      '角色分配：一个人当"盲人"，需要蒙上眼睛；另一个人当"向导"。',
      '游戏开始："盲人"蒙上眼睛后，"向导"需要牵着他的手，或者用语言指令，引导他在房间或院子里安全地行走一段路。',
      '清晰的指令："向导"需要发出非常清晰的指令，比如"向前走三小步"、"停，前面有椅子"、"抬高你的脚，要上台阶了"。',
      '角色互换：到达终点后，交换角色，让孩子也体验一下当"向导"的责任。'
    ],
    tips: [
      '安全第一：游戏环境必须是安全的，没有危险障碍物。家长在孩子当"盲人"时，必须时刻准备保护。',
      '责任感培养：当孩子是"向导"时，他需要为另一个人的安全负责，这能极大地培养他的责任感。',
      '换位思考：只有当过"盲人"，才能体会到那种不确定感，从而在当"向导"时，更懂得如何给予清晰的指令和安全感。',
      '沟通的重要性：这个游戏让孩子深刻体会到，清晰、准确的沟通是多么重要。'
    ],
    duration: 15,
    difficulty: 3,
    activity_type: 'active',
    safety_notes: '游戏环境必须是安全的，没有危险障碍物。家长在孩子当"盲人"时，必须时刻准备保护。',
    extensions: null
  },
  {
    id: 'story-scriptwriter-169',
    name: '故事小编剧：续写新冒险（沙发剧场）',
    age_range: '3-4',
    scene: 'home',
    props: 'books_pictures',
    focus: 'language',
    core_goal: '在一个已知故事的基础上进行再创作，锻炼逻辑想象和语言的连贯性。',
    materials: '一本孩子非常熟悉的绘本。',
    steps: [
      '读完故事：和孩子一起读完一本他最喜欢的绘本，比如《三只小猪》。',
      '提出新问题：合上书，问孩子："故事讲完了，大灰狼从烟囱里掉进热水锅，被烫跑了。那你猜猜，大灰狼后来去哪里了？它还会回来吗？"',
      '开始续编：鼓励孩子根据自己的想象，续编后面的故事。',
      '家长参与：家长可以作为捧哏，根据孩子续编的情节，不断提出新的问题，引导故事发展下去，比如"哦？它去找它的妈妈了？那它会怎么跟妈妈说这件事呢？"'
    ],
    tips: [
      '基于已有框架：在一个熟悉的故事框架上进行再创作，比完全凭空想象要容易，更能激发孩子的创作欲。',
      '锻炼逻辑连贯性：续编的情节需要和前面的故事在逻辑上能衔接起来。',
      '满足想象：孩子常常会对故事的结局有自己的想法，这个游戏给了他一个"改写"故事、满足自己想象的机会。',
      '没有唯一答案：无论孩子续编出怎样的故事，都是他独特创造力的体现。'
    ],
    duration: 15,
    difficulty: 2,
    activity_type: 'quiet',
    safety_notes: null,
    extensions: null
  },
  {
    id: 'little-basketball-170',
    name: '小小投篮手：投篮高手（客厅篮筐站）',
    age_range: '3-4',
    scene: 'home',
    props: 'household',
    focus: 'gross',
    core_goal: '锻炼上手投掷的协调性和对抛物线的感知。',
    materials: '一个洗衣篮或大纸箱作为"篮筐"，几个软球或废纸团作为"篮球"。',
    steps: [
      '设置场地：将"篮筐"放在地上，在2-3步远的地方画一条"投篮线"。',
      '示范投篮：家长演示上手投篮的动作：身体侧向篮筐，手臂由下向上挥动，在最高点将球投出。',
      '孩子尝试：让孩子站在投篮线上，自己尝试投篮。',
      '计分挑战：可以和他一起数数，看他总共投了10次，能投进几个。'
    ],
    tips: [
      '调整篮筐高度：初期可以将篮筐放在地上，熟练后再尝试把它放在矮凳上，增加高度。',
      '力量与角度：引导孩子感受用不同的力气和角度投篮，球的轨迹会有什么不同。',
      '手眼协调：眼睛需要瞄准目标，并指挥手臂做出正确的动作。',
      '建立自信：每一次成功投进，都能带来巨大的成就感和欢呼。'
    ],
    duration: 15,
    difficulty: 3,
    activity_type: 'active',
    safety_notes: '确保活动区域安全，无易碎物品。',
    extensions: null
  }
]

async function addGames151to170() {
  try {
    console.log('开始添加游戏151-170...')

    const { data: existingGames, error: checkError } = await supabase
      .from('games')
      .select('id, name')

    if (checkError) {
      console.error('检查现有游戏时出错:', checkError)
      return
    }

    const existingGameIds = new Set(existingGames?.map(game => game.id) || [])
    const existingGameNames = new Set(existingGames?.map(game => game.name) || [])

    const newGames = games151to170.filter(game => {
      const isDuplicateId = existingGameIds.has(game.id)
      const isDuplicateName = existingGameNames.has(game.name)
      
      if (isDuplicateId || isDuplicateName) {
        console.log(`跳过重复游戏: ${game.name}`)
        return false
      }
      return true
    })

    console.log(`准备添加 ${newGames.length} 个新游戏`)

    if (newGames.length === 0) {
      console.log('没有新游戏需要添加')
      return
    }

    const { data, error } = await supabase
      .from('games')
      .insert(newGames)
      .select('id, name')

    if (error) {
      console.error('批量插入游戏时出错:', error)
      return
    }

    console.log(`✅ 成功添加 ${data.length} 个游戏！`)
    console.log('新添加的游戏:')
    data.forEach((game, index) => {
      console.log(`${index + 1}. ${game.name}`)
    })

  } catch (error) {
    console.error('脚本执行出错：', error)
  }
}

if (require.main === module) {
  addGames151to170()
    .then(() => {
      console.log('游戏151-170添加完成')
      process.exit(0)
    })
    .catch((error) => {
      console.error('脚本执行失败：', error)
      process.exit(1)
    })
}