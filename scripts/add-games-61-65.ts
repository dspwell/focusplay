import { createClient } from '@supabase/supabase-js'
import { config } from 'dotenv'

config({ path: '.env.local' })

const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!
const supabaseKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!

const supabase = createClient(supabaseUrl, supabaseKey)

const games61to65 = [
  {
    id: 'button-match-061',
    name: 'çº½æ‰£é…å¯¹å¸ˆï¼šæ‰¾åˆ°æˆ‘çš„å¥½æœ‹å‹',
    age_range: '2.5-3',
    scene: 'home',
    props: 'household',
    focus: 'fine',
    core_goal: 'é”»ç‚¼è§‚å¯ŸåŠ›ã€æ¯”è¾ƒèƒ½åŠ›å’Œç²¾ç»†åŠ¨ä½œï¼Œå­¦ä¹ æ ¹æ®å±žæ€§è¿›è¡Œé…å¯¹ã€‚',
    materials: 'å‡ å¯¹ç›¸åŒçš„çº½æ‰£ï¼ˆæˆ–å…¶ä»–å°ç‰©ä»¶ï¼‰ï¼Œé¢œè‰²ã€å¤§å°ã€å½¢çŠ¶å„ä¸ç›¸åŒã€‚',
    steps: [
      'å±•ç¤ºé…å¯¹ï¼šæ‹¿å‡ºä¸€å¯¹å®Œå…¨ç›¸åŒçš„çº½æ‰£ï¼Œå‘Šè¯‰å­©å­ï¼š"è¿™ä¸¤ä¸ªçº½æ‰£æ˜¯ä¸€æ ·çš„ï¼Œå®ƒä»¬æ˜¯å¥½æœ‹å‹ã€‚"',
      'æ··åˆåˆ†æ•£ï¼šå°†æ‰€æœ‰çº½æ‰£æ··åœ¨ä¸€èµ·ï¼Œæ•£æ”¾åœ¨æ¡Œé¢ä¸Šã€‚',
      'å¯»æ‰¾é…å¯¹ï¼šç»™å­©å­ä¸€ä¸ªçº½æ‰£ï¼Œè®©ä»–åœ¨ä¸€å †çº½æ‰£ä¸­æ‰¾åˆ°å®ƒçš„å¥½æœ‹å‹ï¼ˆç›¸åŒçš„çº½æ‰£ï¼‰ã€‚',
      'éªŒè¯é…å¯¹ï¼šæ‰¾åˆ°åŽï¼Œå°†ä¸¤ä¸ªçº½æ‰£æ”¾åœ¨ä¸€èµ·æ¯”è¾ƒï¼Œç¡®è®¤å®ƒä»¬ç¡®å®žæ˜¯ä¸€æ ·çš„ã€‚',
      'ç»§ç»­é…å¯¹ï¼šé‡å¤è¿™ä¸ªè¿‡ç¨‹ï¼Œç›´åˆ°æ‰€æœ‰çº½æ‰£éƒ½æ‰¾åˆ°äº†è‡ªå·±çš„å¥½æœ‹å‹ã€‚'
    ],
    tips: [
      'å·®å¼‚è¦æ˜Žæ˜¾ï¼šé€‰æ‹©ç‰¹å¾å·®å¼‚æ˜Žæ˜¾çš„çº½æ‰£ï¼Œä¾¿äºŽå­©å­åŒºåˆ†ã€‚',
      'ä»Žç®€å•å¼€å§‹ï¼šæœ€åˆåªä½¿ç”¨2-3å¯¹çº½æ‰£ï¼Œéšç€èƒ½åŠ›æå‡å†å¢žåŠ æ•°é‡ã€‚',
      'å¤šè§’åº¦è§‚å¯Ÿï¼šé¼“åŠ±å­©å­ä»Žé¢œè‰²ã€å¤§å°ã€å½¢çŠ¶ç­‰å¤šä¸ªè§’åº¦è§‚å¯Ÿå’Œæ¯”è¾ƒã€‚',
      'å®‰å…¨è€ƒè™‘ï¼šç¡®ä¿çº½æ‰£å¤§å°é€‚ä¸­ï¼Œä¸ä¼šé€ æˆè¯¯é£Ÿé£Žé™©ã€‚'
    ],
    duration: 10,
    difficulty: 3,
    activity_type: 'quiet',
    safety_notes: 'ç¡®ä¿çº½æ‰£å¤§å°é€‚ä¸­ï¼Œå…¨ç¨‹ç›‘æŠ¤é¿å…è¯¯é£Ÿã€‚',
    extensions: null
  },
  {
    id: 'weather-reporter-062',
    name: 'å°å°å¤©æ°”é¢„æŠ¥å‘˜ï¼šä»Šå¤©å¤©æ°”æ€Žä¹ˆæ ·',
    age_range: '2.5-3',
    scene: 'home',
    props: 'hands',
    focus: 'language',
    core_goal: 'è§‚å¯Ÿå’Œæè¿°å¤©æ°”çŽ°è±¡ï¼Œå­¦ä¹ å¤©æ°”ç›¸å…³è¯æ±‡ï¼ŒåŸ¹å…»å¯¹è‡ªç„¶çš„å…³æ³¨ã€‚',
    materials: 'æ— ï¼Œåªéœ€è¦ä¸€æ‰‡çª—æˆ·ã€‚',
    steps: [
      'è§‚å¯Ÿå¤©æ°”ï¼šå¸¦å­©å­åˆ°çª—è¾¹ï¼Œä¸€èµ·çœ‹å¤–é¢çš„å¤©æ°”ã€‚',
      'æè¿°çŽ°è±¡ï¼šå®¶é•¿å…ˆæè¿°çœ‹åˆ°çš„å¤©æ°”ï¼š"ä»Šå¤©æ˜¯æ™´å¤©ï¼Œå¤ªé˜³å‡ºæ¥äº†ã€‚"æˆ–"ä»Šå¤©åœ¨ä¸‹é›¨ï¼Œåœ°é¢æ¹¿æ¹¿çš„ã€‚"',
      'å­¦ä¹ è¯æ±‡ï¼šæ•™å­©å­åŸºæœ¬çš„å¤©æ°”è¯æ±‡ï¼šæ™´å¤©ã€é›¨å¤©ã€é˜´å¤©ã€å¤šäº‘ã€‚',
      'æ¨¡ä»¿è¡¨è¾¾ï¼šè®©å­©å­å°è¯•è¯´å‡ºä»Šå¤©çš„å¤©æ°”æƒ…å†µã€‚',
      'æ¯æ—¥ä¹ æƒ¯ï¼šå°†è§‚å¯Ÿå¤©æ°”å˜æˆæ¯å¤©çš„å°ä¹ æƒ¯ï¼Œå¢žå¼ºå­©å­å¯¹çŽ¯å¢ƒçš„æ„ŸçŸ¥åŠ›ã€‚'
    ],
    tips: [
      'ç®€åŒ–è¯æ±‡ï¼šä½¿ç”¨æœ€ç®€å•ç›´è§‚çš„å¤©æ°”è¯æ±‡ï¼Œé¿å…å¤æ‚çš„æ°”è±¡æœ¯è¯­ã€‚',
      'ç»“åˆæ„Ÿå—ï¼šä¸ä»…çœ‹å¤©æ°”ï¼Œè¿˜è¦è¯´æ„Ÿå—ï¼Œå¦‚"ä»Šå¤©å¾ˆæš–å’Œ"ã€"ä»Šå¤©å¾ˆå†·"ã€‚',
      'èº«ä½“è¯­è¨€ï¼šç”¨æ‰‹åŠ¿å’Œè¡¨æƒ…æ¥è¾…åŠ©è¯´æ˜Žå¤©æ°”ï¼Œå¦‚ç”¨æ‰‹é®çœ¼è¡¨ç¤ºå¤ªé˜³å¾ˆäº®ã€‚',
      'æŒç»­è§‚å¯Ÿï¼šä¸€å¤©ä¸­å¯ä»¥å¤šæ¬¡è§‚å¯Ÿï¼Œè®©å­©å­å‘çŽ°å¤©æ°”çš„å˜åŒ–ã€‚'
    ],
    duration: 5,
    difficulty: 1,
    activity_type: 'quiet',
    safety_notes: null,
    extensions: null
  },
  {
    id: 'puppet-theater-063',
    name: 'æ‰‹å¶å°å‰§åœºï¼šè®©çŽ©å…·å¼€å£è¯´è¯',
    age_range: '2.5-3',
    scene: 'home',
    props: 'household',
    focus: 'social',
    core_goal: 'é€šè¿‡è§’è‰²æ‰®æ¼”å‘å±•æƒ³è±¡åŠ›ã€è¯­è¨€è¡¨è¾¾å’Œç¤¾äº¤æŠ€èƒ½ã€‚',
    materials: 'å‡ ä¸ªç®€å•çš„æ‰‹å¶ï¼Œæˆ–ç”¨è¢œå­è‡ªåˆ¶æ‰‹å¶ã€‚',
    steps: [
      'ä»‹ç»è§’è‰²ï¼šç»™æ¯ä¸ªæ‰‹å¶èµ·åå­—å¹¶ä»‹ç»å®ƒä»¬çš„ç‰¹ç‚¹ï¼Œå¦‚"è¿™æ˜¯å°ç†Šè´è´ï¼Œå®ƒå¾ˆå–œæ¬¢åƒèœ‚èœœã€‚"',
      'ç®€å•å¯¹è¯ï¼šè®©æ‰‹å¶å’Œå­©å­å¯¹è¯ï¼Œå¦‚æ‰‹å¶è¯´ï¼š"ä½ å¥½ï¼Œæˆ‘æ˜¯è´è´ï¼Œä½ å«ä»€ä¹ˆåå­—å‘€ï¼Ÿ"',
      'é¼“åŠ±äº’åŠ¨ï¼šå¼•å¯¼å­©å­å›žåº”æ‰‹å¶ï¼Œæˆ–è®©å­©å­æ“ä½œå¦ä¸€ä¸ªæ‰‹å¶è¿›è¡Œå¯¹è¯ã€‚',
      'ç¼–æ¼”æ•…äº‹ï¼šç”¨æ‰‹å¶æ¼”å‡ºç®€å•çš„æ•…äº‹æƒ…èŠ‚ï¼Œå¦‚ä¸¤ä¸ªæ‰‹å¶ä¸€èµ·åŽ»æ•£æ­¥ã€‚',
      'è§’è‰²æ‰®æ¼”ï¼šè®©å­©å­é€‰æ‹©è‡ªå·±å–œæ¬¢çš„æ‰‹å¶è§’è‰²è¿›è¡Œæ‰®æ¼”ã€‚'
    ],
    tips: [
      'å£°éŸ³å˜åŒ–ï¼šä¸ºä¸åŒçš„æ‰‹å¶ä½¿ç”¨ä¸åŒçš„å£°éŸ³ï¼Œå¸®åŠ©å­©å­åŒºåˆ†è§’è‰²ã€‚',
      'æƒ…èŠ‚ç®€å•ï¼šæ•…äº‹æƒ…èŠ‚è¦ç®€å•æ˜“æ‡‚ï¼Œè´´è¿‘å­©å­çš„æ—¥å¸¸ç”Ÿæ´»ã€‚',
      'äº’åŠ¨æ€§å¼ºï¼šå¤šè®©å­©å­å‚ä¸Žï¼Œè€Œä¸æ˜¯åªè®©ä»–è§‚çœ‹ã€‚',
      'æƒ…æ„Ÿè¡¨è¾¾ï¼šé€šè¿‡æ‰‹å¶è¡¨è¾¾ä¸åŒæƒ…ç»ªï¼Œå¸®åŠ©å­©å­ç†è§£å’Œå­¦ä¹ æƒ…æ„Ÿè¡¨è¾¾ã€‚'
    ],
    duration: 10,
    difficulty: 2,
    activity_type: 'quiet',
    safety_notes: null,
    extensions: null
  },
  {
    id: 'obstacle-crawl-064',
    name: 'å°å°æŽ¢é™©å®¶ï¼šé’»å±±æ´žè¿‡è‰åœ°',
    age_range: '2.5-3',
    scene: 'home',
    props: 'household',
    focus: 'gross',
    core_goal: 'é”»ç‚¼å¤§è‚¢ä½“åŠ¨ä½œã€ç©ºé—´æ„ŸçŸ¥å’Œè§£å†³é—®é¢˜çš„èƒ½åŠ›ã€‚',
    materials: 'æ¤…å­ã€æ²™å‘åž«ã€æ¯¯å­ç­‰å®¶å…·ï¼Œåˆ›å»ºç®€å•çš„éšœç¢è·¯çº¿ã€‚',
    steps: [
      'è®¾è®¡è·¯çº¿ï¼šç”¨å®¶å…·åˆ›å»ºä¸€ä¸ªç®€å•çš„éšœç¢è·¯çº¿ï¼Œå¦‚æ¤…å­ä¸‹é¢é’»è¿‡åŽ»ã€æ²™å‘åž«ä¸Šçˆ¬è¿‡åŽ»ã€‚',
      'ç¤ºèŒƒåŠ¨ä½œï¼šå®¶é•¿å…ˆç¤ºèŒƒå¦‚ä½•é€šè¿‡æ¯ä¸ªéšœç¢ï¼Œå¦‚"æˆ‘ä»¬è¦é’»è¿‡è¿™ä¸ªå±±æ´žï¼ˆæ¤…å­ä¸‹é¢ï¼‰"ã€‚',
      'åˆ†æ®µç»ƒä¹ ï¼šè®©å­©å­ä¸€æ®µä¸€æ®µåœ°ç»ƒä¹ ï¼Œæ¯é€šè¿‡ä¸€ä¸ªéšœç¢å°±ç»™äºˆé¼“åŠ±ã€‚',
      'å®Œæ•´æŒ‘æˆ˜ï¼šå½“å­©å­ç†Ÿç»ƒåŽï¼Œè®©ä»–å®Œæ•´åœ°èµ°å®Œæ•´ä¸ªè·¯çº¿ã€‚',
      'å¢žåŠ è¶£å‘³ï¼šå¯ä»¥ç¼–ä¸ªå°æ•…äº‹ï¼Œå¦‚"å°æŽ¢é™©å®¶è¦åŽ»å¯»æ‰¾å®è—"ã€‚'
    ],
    tips: [
      'å®‰å…¨ç¬¬ä¸€ï¼šç¡®ä¿æ‰€æœ‰éšœç¢éƒ½æ˜¯å®‰å…¨çš„ï¼Œæ²¡æœ‰å°–é”è¾¹è§’æˆ–ä¸ç¨³å®šçš„ç»“æž„ã€‚',
      'éš¾åº¦é€‚ä¸­ï¼šéšœç¢é«˜åº¦å’Œéš¾åº¦è¦é€‚åˆå­©å­çš„èƒ½åŠ›ï¼Œé¿å…è¿‡äºŽå›°éš¾é€ æˆæŒ«è´¥æ„Ÿã€‚',
      'é¼“åŠ±å°è¯•ï¼šå³ä½¿å­©å­æ²¡æœ‰å®Œç¾Žå®Œæˆï¼Œä¹Ÿè¦é¼“åŠ±ä»–çš„å°è¯•ã€‚',
      'çµæ´»è°ƒæ•´ï¼šæ ¹æ®å­©å­çš„è¡¨çŽ°éšæ—¶è°ƒæ•´éšœç¢çš„éš¾åº¦ã€‚'
    ],
    duration: 10,
    difficulty: 3,
    activity_type: 'active',
    safety_notes: 'ç¡®ä¿æ‰€æœ‰éšœç¢å®‰å…¨ç¨³å›ºï¼Œæ— å°–é”è¾¹è§’ã€‚ç›‘æŠ¤è¿‡ç¨‹ä¸­é¿å…ç¢°æ’žã€‚',
    extensions: null
  },
  {
    id: 'memory-box-065',
    name: 'è®°å¿†å®ç›’ï¼šè—äº†ä»€ä¹ˆä¸è§äº†',
    age_range: '2.5-3',
    scene: 'home',
    props: 'household',
    focus: 'cognition',
    core_goal: 'é”»ç‚¼è§†è§‰è®°å¿†ã€æ³¨æ„åŠ›å’Œè§‚å¯ŸåŠ›ã€‚',
    materials: 'ä¸€ä¸ªç›’å­æˆ–å¸ƒï¼Œ3-4ä¸ªå­©å­ç†Ÿæ‚‰çš„å°ç‰©å“ã€‚',
    steps: [
      'å±•ç¤ºç‰©å“ï¼šå°†3ä¸ªå°ç‰©å“ï¼ˆå¦‚å°æ±½è½¦ã€ç§¯æœ¨ã€å‹ºå­ï¼‰æ”¾åœ¨å­©å­é¢å‰ï¼Œè®©ä»–ä»”ç»†çœ‹ã€‚',
      'è®°å¿†æ—¶é—´ï¼šå‘Šè¯‰å­©å­ï¼š"è®°ä½è¿™äº›ä¸œè¥¿ï¼Œç­‰ä¸€ä¸‹æˆ‘è¦è€ƒè€ƒä½ ã€‚"ç»™ä»–å……åˆ†æ—¶é—´è§‚å¯Ÿã€‚',
      'è—èµ·ç‰©å“ï¼šç”¨ç›’å­æˆ–å¸ƒå°†ç‰©å“ç›–ä½ï¼Œæˆ–è®©å­©å­é—­ä¸Šçœ¼ç›ã€‚',
      'å–èµ°ä¸€ä¸ªï¼šæ‚„æ‚„å–èµ°å…¶ä¸­ä¸€ä¸ªç‰©å“ã€‚',
      'çŒœæµ‹æ¸¸æˆï¼šæ‰“å¼€ç›’å­æˆ–è®©å­©å­ççœ¼ï¼Œé—®ä»–ï¼š"å°‘äº†ä»€ä¹ˆä¸œè¥¿ï¼Ÿ"'
    ],
    tips: [
      'ç‰©å“è¦ç†Ÿæ‚‰ï¼šä½¿ç”¨å­©å­éžå¸¸ç†Ÿæ‚‰çš„æ—¥å¸¸ç‰©å“ï¼Œä¾¿äºŽè®°å¿†å’Œè¯†åˆ«ã€‚',
      'æ•°é‡ä»Žå°‘åˆ°å¤šï¼šå¼€å§‹æ—¶åªç”¨2-3ä¸ªç‰©å“ï¼Œéšç€èƒ½åŠ›æå‡å†å¢žåŠ ã€‚',
      'ç»™è¶³æ—¶é—´ï¼šè®©å­©å­æœ‰å……åˆ†çš„æ—¶é—´è§‚å¯Ÿå’Œè®°å¿†ï¼Œä¸è¦ç€æ€¥ã€‚',
      'æ­£å‘åé¦ˆï¼šå³ä½¿ç­”é”™äº†ä¹Ÿè¦é¼“åŠ±ï¼Œé‡ç‚¹æ˜¯å‚ä¸Žè¿‡ç¨‹è€Œä¸æ˜¯æ­£ç¡®ç­”æ¡ˆã€‚'
    ],
    duration: 8,
    difficulty: 3,
    activity_type: 'quiet',
    safety_notes: 'ç¡®ä¿ç‰©å“å®‰å…¨æ— è¯¯é£Ÿé£Žé™©ã€‚',
    extensions: null
  }
]

async function addGames61to65() {
  try {
    console.log('å¼€å§‹æ·»åŠ æ¸¸æˆ61-65...')

    const { data: existingGames, error: checkError } = await supabase
      .from('games')
      .select('id, name')

    if (checkError) {
      console.error('æ£€æŸ¥çŽ°æœ‰æ¸¸æˆæ—¶å‡ºé”™:', checkError)
      return
    }

    const existingGameIds = new Set(existingGames?.map(game => game.id) || [])
    const existingGameNames = new Set(existingGames?.map(game => game.name) || [])

    const newGames = games61to65.filter(game => {
      const isDuplicateId = existingGameIds.has(game.id)
      const isDuplicateName = existingGameNames.has(game.name)
      
      if (isDuplicateId || isDuplicateName) {
        console.log(`è·³è¿‡é‡å¤æ¸¸æˆ: ${game.name}`)
        return false
      }
      return true
    })

    console.log(`å‡†å¤‡æ·»åŠ  ${newGames.length} ä¸ªæ–°æ¸¸æˆ`)

    if (newGames.length === 0) {
      console.log('æ²¡æœ‰æ–°æ¸¸æˆéœ€è¦æ·»åŠ ')
      return
    }

    const { data, error } = await supabase
      .from('games')
      .insert(newGames)
      .select('id, name')

    if (error) {
      console.error('æ‰¹é‡æ’å…¥æ¸¸æˆæ—¶å‡ºé”™:', error)
      return
    }

    console.log(`âœ… æˆåŠŸæ·»åŠ  ${data.length} ä¸ªæ¸¸æˆï¼`)
    console.log('æ–°æ·»åŠ çš„æ¸¸æˆ:')
    data.forEach((game, index) => {
      console.log(`${index + 1}. ${game.name}`)
    })

  } catch (error) {
    console.error('è„šæœ¬æ‰§è¡Œå‡ºé”™ï¼š', error)
  }
}

if (require.main === module) {
  addGames61to65()
    .then(() => {
      console.log('æ¸¸æˆ61-65æ·»åŠ å®Œæˆ')
      console.log('ðŸŽ‰ æ‰€æœ‰35ä¸ªæ¸¸æˆï¼ˆ31-65ï¼‰æ·»åŠ å®Œæˆï¼')
      process.exit(0)
    })
    .catch((error) => {
      console.error('è„šæœ¬æ‰§è¡Œå¤±è´¥ï¼š', error)
      process.exit(1)
    })
}